import{a as Bt,b as Xe}from"./chunk-FBX3MRTL.js";import{$ as M,A as fe,Aa as Nt,B as _t,Ba as Rt,C as Ct,Ca as He,D as u,E as P,Ea as jt,Fa as ae,Ga as Y,H as v,Ha as le,I as w,Ia as ce,J as tt,Ja as Vt,K as Pe,Ka as $e,L as Ge,La as me,Ma as ge,N as o,Na as he,O as a,Oa as Ue,P as f,Pa as Ye,Q as Et,Qa as We,R as Tt,Ra as xe,S as W,Sa as we,T as k,Ta as ue,U as C,Ua as qe,V as kt,Va as K,W as It,X as Mt,Y as Pt,Z as it,_ as l,a as Oe,aa as z,b as Le,ba as Ae,da as ze,ea as Ne,fa as Re,h as Je,ha as G,ia as At,ja as pe,k as et,ka as rt,la as Ft,ma as Ie,n as vt,na as se,oa as q,pa as H,q as St,r as B,ra as te,sa as X,ta as Ot,u as $,ua as Lt,v as U,va as Dt,wa as ie,xa as zt,ya as Q,z as De}from"./chunk-7QXYFICR.js";var Gt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=B({type:t,selectors:[["app-footer"]],standalone:!0,features:[G],decls:98,vars:0,consts:[[1,"hidden","lg:block","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","py-12"],[1,"container","mx-auto","px-6"],[1,"grid","grid-cols-4","gap-8"],[1,"text-lg","font-bold","text-wattpad-primary","mb-4"],[1,"text-sm","text-wattpad-light","mb-4"],[1,"flex","space-x-4"],["href","#",1,"text-wattpad-light","hover:text-wattpad-primary","transition-colors"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-instagram"],[1,"fab","fa-tiktok"],[1,"font-bold","mb-4"],[1,"space-y-2"],["href","#",1,"text-sm","text-wattpad-light","hover:text-wattpad-primary","transition-colors"],[1,"border-t","border-gray-200","dark:border-gray-700","mt-12","pt-8"],[1,"flex","flex-wrap","justify-between","items-center"],[1,"text-xs","text-wattpad-light"],["href","#",1,"text-xs","text-wattpad-light","hover:text-wattpad-primary","transition-colors"],[1,"bottom-nav","fixed","bottom-0","left-0","right-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","lg:hidden"],[1,"flex","justify-around","items-center","h-full"],["href","#",1,"text-wattpad-primary","flex","flex-col","items-center"],[1,"fas","fa-home","text-xl"],[1,"text-xs","mt-1"],["href","#",1,"text-gray-500","dark:text-gray-400","flex","flex-col","items-center"],[1,"fas","fa-search","text-xl"],["href","#",1,"fab-button","bg-wattpad-primary","text-white","p-4","rounded-full","-mt-10","flex","items-center","justify-center"],[1,"fas","fa-plus","text-xl"],[1,"fas","fa-bookmark","text-xl"],[1,"fas","fa-user","text-xl"]],template:function(i,r){i&1&&(o(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),l(5,"StoryVerse"),a(),o(6,"p",4),l(7,"The world's most vibrant storytelling community."),a(),o(8,"div",5)(9,"a",6),f(10,"i",7),a(),o(11,"a",6),f(12,"i",8),a(),o(13,"a",6),f(14,"i",9),a(),o(15,"a",6),f(16,"i",10),a()()(),o(17,"div")(18,"h4",11),l(19,"Discover"),a(),o(20,"ul",12)(21,"li")(22,"a",13),l(23,"Browse Stories"),a()(),o(24,"li")(25,"a",13),l(26,"Wattpad Picks"),a()(),o(27,"li")(28,"a",13),l(29,"Community"),a()(),o(30,"li")(31,"a",13),l(32,"Events"),a()()()(),o(33,"div")(34,"h4",11),l(35,"Write"),a(),o(36,"ul",12)(37,"li")(38,"a",13),l(39,"Start Writing"),a()(),o(40,"li")(41,"a",13),l(42,"Writer Resources"),a()(),o(43,"li")(44,"a",13),l(45,"Writer Contests"),a()(),o(46,"li")(47,"a",13),l(48,"Writer Programs"),a()()()(),o(49,"div")(50,"h4",11),l(51,"Company"),a(),o(52,"ul",12)(53,"li")(54,"a",13),l(55,"About"),a()(),o(56,"li")(57,"a",13),l(58,"Careers"),a()(),o(59,"li")(60,"a",13),l(61,"Press"),a()(),o(62,"li")(63,"a",13),l(64,"Contact"),a()()()()(),o(65,"div",14)(66,"div",15)(67,"p",16),l(68,"\xA9 2023 StoryVerse. All rights reserved."),a(),o(69,"div",5)(70,"a",17),l(71,"Terms"),a(),o(72,"a",17),l(73,"Privacy"),a(),o(74,"a",17),l(75,"Guidelines"),a(),o(76,"a",17),l(77,"Help"),a()()()()()(),o(78,"nav",18)(79,"div",19)(80,"a",20),f(81,"i",21),o(82,"span",22),l(83,"Home"),a()(),o(84,"a",23),f(85,"i",24),o(86,"span",22),l(87,"Search"),a()(),o(88,"a",25),f(89,"i",26),a(),o(90,"a",23),f(91,"i",27),o(92,"span",22),l(93,"Library"),a()(),o(94,"a",23),f(95,"i",28),o(96,"span",22),l(97,"Profile"),a()()()())}})}}return t})();var Ht=(()=>{class t{constructor(){this.title="code"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=B({type:t,selectors:[["app-root"]],standalone:!0,features:[G],decls:3,vars:0,template:function(i,r){i&1&&(o(0,"router-outlet"),f(1,"router-outlet")(2,"app-footer"),a())},dependencies:[zt,Gt]})}}return t})();var $t=(t,n)=>{let e=t.clone({withCredentials:!0});return n(e)};var Ut=(()=>{class t{constructor(e){this.http=e,this.userId=null,this.loginApiUrl="https://hyperblah.com/funtelapi/admin.php",this.getUserApiUrl="https://hyperblah.com/funtelapi/get_user.php"}login(e,i){return this.http.post(this.loginApiUrl,{username:e,password:i},{withCredentials:!0})}getUserDetails(){return this.http.get(this.getUserApiUrl,{withCredentials:!0})}setUserId(e){this.userId=e}getUserId(){return this.userId}static{this.\u0275fac=function(i){return new(i||t)(St(X))}}static{this.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ii(t,n){if(t&1&&(o(0,"p",47),l(1),a()),t&2){let e=C();u(),M(e.errorMessage)}}var Yt=(()=>{class t{constructor(e,i){this.authService=e,this.router=i,this.username="",this.password="",this.errorMessage=""}onSubmit(){this.authService.login(this.username,this.password).subscribe({next:e=>{console.log("Login response:",e),e.status==="success"&&e.id?(sessionStorage.setItem("userId",String(e.id)),this.router.navigate(["/home"])):this.errorMessage=e.message},error:e=>{console.error("Login Error:",e),this.errorMessage="An error occurred during login."}})}static{this.\u0275fac=function(i){return new(i||t)(P(Ut),P(Q))}}static{this.\u0275cmp=B({type:t,selectors:[["app-login"]],standalone:!0,features:[G],decls:76,vars:3,consts:[[1,"auth-container","flex","flex-col","lg:flex-row"],[1,"hidden","lg:flex","lg:w-1/2","bg-gradient-to-br","from-wattpad-primary","to-wattpad-secondary","items-center","justify-center","p-12"],[1,"max-w-md","text-center","text-white"],[1,"text-4xl","font-bold","mb-6"],[1,"text-lg","mb-8"],[1,"flex","justify-center","space-x-4"],[1,"bg-white/20","p-3","rounded-full"],[1,"fas","fa-book-open","text-xl"],[1,"fas","fa-heart","text-xl"],[1,"fas","fa-users","text-xl"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","p-6","lg:p-12"],[1,"w-full","max-w-md"],[1,"text-center","lg:hidden","mb-8"],[1,"text-3xl","font-bold","text-wattpad-primary","mb-2"],[1,"text-wattpad-light"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","p-6","lg:p-8"],[1,"text-2xl","font-bold","mb-6"],[3,"ngSubmit"],["class","alert alert-success",4,"ngIf"],[1,"mb-4"],["for","email",1,"block","text-sm","font-medium","mb-2"],["type","text","name","username","placeholder","Enter your email or username",1,"w-full","px-4","py-3","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","mb-2"],["type","password","name","password","placeholder","Enter your password",1,"w-full","px-4","py-3","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700",3,"ngModelChange","ngModel"],[1,"flex","justify-end","mt-2"],["href","#",1,"text-sm","text-wattpad-primary","hover:underline"],["type","submit",1,"w-full","bg-wattpad-primary","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-[#E5274B]","transition-colors","mb-4"],[1,"flex","items-center","justify-center","mb-6"],[1,"border-t","border-gray-300","dark:border-gray-600","flex-grow"],[1,"px-3","text-sm","text-wattpad-light"],[1,"grid","grid-cols-2","gap-3","mb-6"],["type","button",1,"flex","items-center","justify-center","py-2","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"fab","fa-google","text-wattpad-primary","mr-2"],[1,"text-sm"],[1,"fab","fa-facebook-f","text-wattpad-primary","mr-2"],[1,"text-center","text-sm"],["href","register",1,"text-wattpad-primary","font-medium","hover:underline","ml-1"],[1,"bottom-nav","fixed","bottom-0","left-0","right-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","lg:hidden"],[1,"flex","justify-around","items-center","h-full"],["href","index4.html",1,"text-gray-500","dark:text-gray-400","flex","flex-col","items-center"],[1,"fas","fa-home","text-xl"],[1,"text-xs","mt-1"],["href","#",1,"text-gray-500","dark:text-gray-400","flex","flex-col","items-center"],[1,"fas","fa-search","text-xl"],[1,"fas","fa-bookmark","text-xl"],["href","#",1,"text-wattpad-primary","flex","flex-col","items-center"],[1,"fas","fa-user","text-xl"],[1,"alert","alert-success"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Welcome Back!"),a(),o(5,"p",4),l(6,"Continue your reading journey with millions of stories waiting for you."),a(),o(7,"div",5)(8,"div",6),f(9,"i",7),a(),o(10,"div",6),f(11,"i",8),a(),o(12,"div",6),f(13,"i",9),a()()()(),o(14,"div",10)(15,"div",11)(16,"div",12)(17,"h1",13),l(18,"StoryVerse"),a(),o(19,"p",14),l(20,"Log in to continue reading"),a()(),o(21,"div",15)(22,"h2",16),l(23,"Log In"),a(),o(24,"form",17),k("ngSubmit",function(){return r.onSubmit()}),v(25,Ii,2,1,"p",18),o(26,"div",19)(27,"label",20),l(28,"Email or Username"),a(),o(29,"input",21),Re("ngModelChange",function(d){return Ne(r.username,d)||(r.username=d),d}),a()(),o(30,"div",19)(31,"label",22),l(32,"Password"),a(),o(33,"input",23),Re("ngModelChange",function(d){return Ne(r.password,d)||(r.password=d),d}),a(),o(34,"div",24)(35,"a",25),l(36,"Forgot password?"),a()()(),o(37,"button",26),l(38," Log In "),a(),o(39,"div",27),f(40,"div",28),o(41,"span",29),l(42,"or"),a(),f(43,"div",28),a(),o(44,"div",30)(45,"button",31),f(46,"i",32),o(47,"span",33),l(48,"Google"),a()(),o(49,"button",31),f(50,"i",34),o(51,"span",33),l(52,"Facebook"),a()()(),o(53,"div",35)(54,"span",14),l(55,"Don't have an account?"),a(),o(56,"a",36),l(57,"Sign up"),a()()()()()()(),o(58,"nav",37)(59,"div",38)(60,"a",39),f(61,"i",40),o(62,"span",41),l(63,"Home"),a()(),o(64,"a",42),f(65,"i",43),o(66,"span",41),l(67,"Search"),a()(),o(68,"a",42),f(69,"i",44),o(70,"span",41),l(71,"Library"),a()(),o(72,"a",45),f(73,"i",46),o(74,"span",41),l(75,"Profile"),a()()()()),i&2&&(u(25),w("ngIf",r.errorMessage),u(4),ze("ngModel",r.username),u(4),ze("ngModel",r.password))},dependencies:[H,q,ue,me,ae,le,ce,we,$e,Vt]})}}return t})();var Wt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=B({type:t,selectors:[["app-genres"]],standalone:!0,features:[G],decls:63,vars:0,consts:[[1,"container"],[1,"storiesbox","mt-5"],[1,"allCat"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-12","catBox"],[1,"catImg"],["src","cover.jpeg","alt",""],[1,"catDetails"]],template:function(i,r){i&1&&(f(0,"app-header"),o(1,"div",0)(2,"div",1)(3,"h2"),l(4,"Explore Categories"),a(),o(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),f(10,"img",7),a(),o(11,"div",8)(12,"h5"),l(13,"Horror Story"),a()()()(),o(14,"div",4)(15,"div",5)(16,"div",6),f(17,"img",7),a(),o(18,"div",8)(19,"h5"),l(20,"Horror Story"),a()()()(),o(21,"div",4)(22,"div",5)(23,"div",6),f(24,"img",7),a(),o(25,"div",8)(26,"h5"),l(27,"Horror Story"),a()()()(),o(28,"div",4)(29,"div",5)(30,"div",6),f(31,"img",7),a(),o(32,"div",8)(33,"h5"),l(34,"Horror Story"),a()()()(),o(35,"div",4)(36,"div",5)(37,"div",6),f(38,"img",7),a(),o(39,"div",8)(40,"h5"),l(41,"Horror Story"),a()()()(),o(42,"div",4)(43,"div",5)(44,"div",6),f(45,"img",7),a(),o(46,"div",8)(47,"h5"),l(48,"Horror Story"),a()()()(),o(49,"div",4)(50,"div",5)(51,"div",6),f(52,"img",7),a(),o(53,"div",8)(54,"h5"),l(55,"Horror Story"),a()()()(),o(56,"div",4)(57,"div",5)(58,"div",6),f(59,"img",7),a(),o(60,"div",8)(61,"h5"),l(62,"Horror Story"),a()()()()()()()())},dependencies:[K],styles:[".allCat[_ngcontent-%COMP%]   .catImg[_ngcontent-%COMP%]{width:100%;position:relative;overflow:hidden;height:200px}.allCat[_ngcontent-%COMP%]   .catDetails[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;--tw-gradient-to: #000;padding:5px 20px 0}.allCat[_ngcontent-%COMP%]   .catDetails[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;font-size:16px}.catBox[_ngcontent-%COMP%]{position:relative;border-radius:15px;overflow:hidden;margin-bottom:30px}"]})}}return t})();function Mi(t,n){if(t&1&&(o(0,"div",15)(1,"div",8)(2,"div",9)(3,"span",16),l(4),a()(),o(5,"div",11)(6,"div",17)(7,"div",18)(8,"span",19),l(9),a(),o(10,"span",20),l(11,"2 days ago"),a()(),o(12,"p",21),l(13),a(),o(14,"div",22)(15,"button",23),f(16,"i",24),l(17," 12 "),a(),o(18,"button",23),f(19,"i",25),l(20," 2 "),a(),o(21,"button",26),f(22,"i",27),l(23," Reply "),a()()()()()()),t&2){let e=n.$implicit;u(4),M(e.name?e.name.charAt(0):"U"),u(5),M(e.name),u(4),M(e.comment)}}function Pi(t,n){if(t&1){let e=W();o(0,"div",28)(1,"button",29),k("click",function(){$(e);let r=C();return U(r.showMoreComments())}),l(2,"View more comments"),a()()}}function Ai(t,n){t&1&&f(0,"span",16)}var qt=(()=>{class t{constructor(e){this.http=e,this.comments=[],this.commentText="",this.parentId=null,this.userId=sessionStorage.getItem("userId"),this.visibleComments=[],this.displayCount=2}ngOnInit(){this.loadComments()}loadComments(){this.http.get(`https://hyperblah.com/funtelapi/get_comments.php?story_id=${this.storyId}`).subscribe(e=>{e.status==="success"&&(this.comments=this.buildCommentTree(e.data),this.visibleComments=this.comments.slice(0,this.displayCount))})}showMoreComments(){this.displayCount+=2,this.visibleComments=this.comments.slice(0,this.displayCount)}buildCommentTree(e){let i={},r=[];return e.forEach(s=>{s.replies=[],i[s.id]=s}),e.forEach(s=>{s.parent_id?i[s.parent_id]&&i[s.parent_id].replies.push(s):r.push(s)}),r}postComment(){if(!this.commentText.trim())return;let e={story_id:this.storyId,comment:this.commentText,parent_id:this.parentId,user_id:this.userId};this.http.post("https://hyperblah.com/funtelapi/add_comment.php",e,{withCredentials:!0}).subscribe(i=>{i.status==="success"?(this.commentText="",this.parentId=null,this.loadComments()):alert(i.message||"Failed to post comment.")})}setReply(e){this.parentId=e;let i=document.getElementById("comment-text");i&&i.focus()}static{this.\u0275fac=function(i){return new(i||t)(P(X))}}static{this.\u0275cmp=B({type:t,selectors:[["app-comment-section"]],inputs:{storyId:"storyId"},standalone:!0,features:[G],decls:18,vars:4,consts:[[1,"bg-white","dark:bg-gray-800","rounded-xl","p-6","shadow-sm"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-xl","font-bold"],["id","toggleComments",1,"text-wattpad-primary","hover:underline","pointer",3,"click"],["id","commentsContainer"],["class","mb-6 comment-visible",4,"ngFor","ngForOf"],["class","mt-8 text-center",4,"ngIf"],[1,"mt-6"],[1,"flex","items-start","space-x-3"],[1,"bg-gray-200","dark:bg-gray-700","w-10","h-10","rounded-full","flex","items-center","justify-center"],["class","text-gray-500 dark:text-gray-400",4,"ngFor","ngForOf"],[1,"flex-1"],["placeholder","Add a comment...","id","comment-text",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","dark:border-gray-600","dark:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary",3,"ngModelChange","ngModel"],[1,"flex","justify-end","mt-2"],[1,"bg-wattpad-primary","text-white","px-4","py-2","rounded-full","text-sm","font-medium","hover:bg-[#E5274B]",3,"click"],[1,"mb-6","comment-visible"],[1,"text-gray-500","dark:text-gray-400"],[1,"bg-gray-100","dark:bg-gray-700","rounded-lg","p-3"],[1,"flex","items-center","justify-between","mb-1"],[1,"font-medium"],[1,"text-xs","text-wattpad-light"],[1,"text-sm"],[1,"flex","items-center","mt-2","space-x-4"],[1,"text-sm","text-wattpad-light","hover:text-wattpad-primary"],[1,"fas","fa-thumbs-up","mr-1"],[1,"fas","fa-thumbs-down","mr-1"],[1,"text-sm","text-wattpad-light","hover:text-wattpad-primary","reply-btn"],[1,"fas","fa-reply","mr-1"],[1,"mt-8","text-center"],[1,"bg-wattpad-primary","text-white","px-8","py-3","rounded-full","font-medium","hover:bg-[#E5274B]","pointer",3,"click"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Comments"),a(),o(4,"button",3),k("click",function(){return r.showMoreComments()}),l(5,"\u0914\u0930 \u0926\u0947\u0916\u0947"),a()(),o(6,"div",4),v(7,Mi,24,3,"div",5),a(),v(8,Pi,3,0,"div",6),o(9,"div",7)(10,"div",8)(11,"div",9),v(12,Ai,1,0,"span",10),a(),o(13,"div",11)(14,"textarea",12),Re("ngModelChange",function(d){return Ne(r.commentText,d)||(r.commentText=d),d}),a(),o(15,"div",13)(16,"button",14),k("click",function(){return r.postComment()}),l(17," Post Comment "),a()()()()()()),i&2&&(u(7),w("ngForOf",r.visibleComments),u(),w("ngIf",r.visibleComments.length<r.comments.length),u(4),w("ngForOf",r.visibleComments),u(2),ze("ngModel",r.commentText))},dependencies:[H,se,q,we,ae,le,$e],styles:[".comment-wrapper[_ngcontent-%COMP%]{margin-top:30px;border-top:1px solid #ccc;padding-top:20px}.form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:70px;margin-bottom:10px}.btn[_ngcontent-%COMP%]{padding:6px 12px;margin-right:5px}.comment[_ngcontent-%COMP%]{margin:10px 0;padding:10px;border-bottom:1px solid #eee;font-size:12px}.reply-btn[_ngcontent-%COMP%]{font-size:12px;margin-left:10px;background:none;font-weight:600;border:0;color:#3b19a9}.replies[_ngcontent-%COMP%]{margin-left:20px;padding-left:10px;border-left:2px solid #eee}.reply[_ngcontent-%COMP%]{background:#f9f9f9}.cancel[_ngcontent-%COMP%]{background:transparent;color:red;border:none;cursor:pointer}.commentbox[_ngcontent-%COMP%]{border-radius:100px;padding:10px;border:1px solid #ccc;width:100%;position:relative}.commentmainbox[_ngcontent-%COMP%]{position:relative;border-radius:100px;overflow:hidden;border:1px solid #ccc;width:100%}.postbtn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff;color:#fff}.postbtn[_ngcontent-%COMP%]{position:absolute;right:0;top:4px}.cmsg[_ngcontent-%COMP%]{font-size:12px}.msg[_ngcontent-%COMP%]{width:80%;display:inline-block}.viewMoreBtnLink[_ngcontent-%COMP%]{border:1px solid #000;color:#000;text-align:center;border-radius:100px;width:100%;padding:10px}"]})}}return t})();var Oi=["storyContentBox"],Li=(t,n)=>({"bg-wattpad-primary text-white":t,"bg-white text-wattpad-primary border border-wattpad-primary":n});function Di(t,n){if(t&1){let e=W();o(0,"button",75),k("click",function(){$(e);let r=C();return U(r.toggleFollow())}),l(1),a()}if(t&2){let e=C();w("ngClass",pe(2,Li,!e.isFollowing,e.isFollowing)),u(),z(" ",e.isFollowing?"Unfollow":"Follow",`
`)}}function zi(t,n){if(t&1&&(o(0,"h1",76),l(1),a()),t&2){let e=C();u(),M(e.storyContent.title)}}function Ni(t,n){if(t&1&&f(0,"div",77,0),t&2){let e=C();w("innerHTML",e.storyContent.content,De)}}function Ri(t,n){if(t&1){let e=W();o(0,"div",78)(1,"button",79),k("click",function(){$(e);let r=C();return U(r.continueToNextPart())}),l(2," \u0905\u0917\u0932\u0947 \u092D\u093E\u0917 \u0915\u0947 \u0932\u093F\u090F \u091C\u093E\u0930\u0940 \u0930\u0916\u0947\u0902 "),f(3,"i",80),a()()}}function ji(t,n){t&1&&(o(0,"div",81),l(1," --- END STORY --- "),a())}function Vi(t,n){if(t&1&&f(0,"app-comment-section",82),t&2){let e=C();w("storyId",e.storyId)}}var Xt=(()=>{class t{constructor(e,i,r,s){this.route=e,this.router=i,this.contentService=r,this.http=s,this.storyId=null,this.storyContent=null,this.storyDetail={},this.currentUser=null,this.allParts=[],this.isLoading=!0,this.errorMessage="",this.scrollProgress="0%",this.partsLoaded=!1,this.isSpeaking=!1,this.isFullscreen=!1,this.userId=null,this.followStatusChecked=!0,this.followerCount=0,this.followerUsers=[],this.fontSize=1,this.readerMode="light",this.isFollowing=!1}ngOnInit(){let e=sessionStorage.getItem("userId");if(!e){this.router.navigate(["/login"]);return}this.userId=+e,this.route.paramMap.subscribe(i=>{let r=i.get("idAndTitle");if(r){let s=Number(r.split("-")[0]);this.storyId=s,this.loadStory()}})}toggleFullscreen(){this.isFullscreen=!this.isFullscreen,document.body.style.overflow=this.isFullscreen?"hidden":""}changeReaderMode(e){this.readerMode=e}getFollowingUsers(){if(!this.storyDetail?.author_id)return;let e=new te({"Content-Type":"application/json"});this.http.post("https://hyperblah.com/funtelapi/follow/check_follow.php",{following_id:this.storyDetail.author_id},{headers:e,withCredentials:!0}).subscribe({next:i=>{this.followerUsers=i.followersList||[],this.followerCount=i.followerCount||0,console.log("followerCount",this.followerCount),console.log("Followers:",this.followerUsers)},error:i=>{console.error("Failed to load followers",i)}})}fetchStoryDetail(e){let i=new te({"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`});this.http.post(`https://hyperblah.com/funtelapi/getstorydetails.php?id=${e}`,{},{headers:i,withCredentials:!0}).subscribe({next:r=>{r.status==="success"&&r.data?(this.storyDetail=r.data,this.storyDetail.author_id=this.storyDetail.user_id,this.checkFollowStatus(),this.getFollowingUsers(),console.log("\u2705 Story Detail (main):",this.storyDetail),this.checkFollowStatus()):this.errorMessage="Story detail not found."},error:r=>{console.error("Error fetching story detail:",r),this.errorMessage="Failed to load story detail."}})}loadStory(){this.storyId&&this.contentService.getStoryById(this.storyId).subscribe({next:e=>{if(e.status==="success"&&e.data){this.storyContent={title:e.data.story_title,description:e.data.description,content:e.data.content,date:e.data.date||e.data.created_at||"",user_id:e.data.user_id};let i=e.data.stories_id;i&&(this.loadAllParts(i),this.fetchStoryDetail(i))}else this.errorMessage="Story not found";this.isLoading=!1},error:e=>{console.error("\u274C Error loading story:",e),this.errorMessage="Error loading story.",this.isLoading=!1}})}loadAllParts(e){let i=`https://hyperblah.com/funtelapi/get_user_ep.php?stories_id=${e}`,r=new te({"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`});this.http.post(i,{user_id:sessionStorage.getItem("userId")},{headers:r}).subscribe({next:s=>{if(s.status==="success"&&s.data){this.allParts=s.data.filter(c=>c.status==1).sort((c,m)=>c.id-m.id),this.partsLoaded=!0;let d=this.allParts.findIndex(c=>c.id==this.storyId),p=this.allParts[d];if(p){let c=d===this.allParts.length-1;this.storeReadProgress(e,p.id,this.allParts.length,p.story_title)}}},error:s=>{console.error("\u274C Error loading parts:",s),this.allParts=[],this.partsLoaded=!0}})}checkFollowStatus(){let e=this.storyDetail?.author_id;if(!this.userId||!e||this.userId===e){console.log("\u{1F7E1} checkFollowStatus: invalid userId or authorId or same user");return}console.log("\u{1F504} Sending follow check:",this.userId,"\u2192",e);let i=new te({"Content-Type":"application/json"});this.http.post("https://hyperblah.com/funtelapi/follow/check_follow.php",{follower_id:this.userId,following_id:e},{headers:i,withCredentials:!0}).subscribe({next:r=>{this.isFollowing=r.isFollowing,console.log("\u2705 Follow check result:",r)},error:r=>{console.error("\u274C Follow check failed:",r)}})}toggleFollow(){let e=this.storyDetail?.author_id;if(!this.userId||!e)return;let i=this.isFollowing?"https://hyperblah.com/funtelapi/follow/unfollow.php":"https://hyperblah.com/funtelapi/follow/follow.php",r=new te({"Content-Type":"application/json"}),s={follower_id:this.userId,following_id:e};this.http.post(i,s,{headers:r,withCredentials:!0}).subscribe({next:d=>{console.log("\u2705 Follow/Unfollow response:",d),this.isFollowing=!this.isFollowing},error:d=>{console.error("\u274C Follow/Unfollow failed:",d)}})}continueToNextPart(){let e=this.allParts.findIndex(i=>i.id==this.storyId);if(e!==-1&&e<this.allParts.length-1){let i=this.allParts[e+1];if(e+1>=2){window.open("https://play.google.com/store/apps/details?id=com.yourapp.id","_blank");return}this.storeReadProgress(this.storyDetail.id,i.id,this.allParts.length,i.story_title),console.log("\u2705 Values before calling storeReadProgress:",{storyId:this.storyDetail?.id,nextPartId:i?.id,title:i?.story_title});let r=this.slugify(i.story_title||"story");this.router.navigate(["/series",`${i.id}-${r}`]),setTimeout(()=>window.location.reload(),100)}else alert("\u2705 You are already on the last part.")}isLastPart(){if(!this.partsLoaded||!this.storyId||!this.allParts.length)return!0;let e=this.allParts.findIndex(i=>i.id==this.storyId);return e===-1||e===this.allParts.length-1}isButtonDisabled(){return!this.partsLoaded||this.isLastPart()}slugify(e){return e.toLowerCase().trim().replace(/[\s\W-]+/g,"-").replace(/^-+|-+$/g,"")}shareOnFacebook(e){if(e.preventDefault(),!this.storyContent||!this.storyDetail){alert("Story data not loaded yet.");return}let i=`https://www.facebook.com/sharer/sharer.php?u=https://artypantss.com/social/facebook.php?id=${this.storyId}`;window.open(i,"_blank","width=600,height=400")}shareOnTwitter(){if(!this.storyContent)return;let e=encodeURIComponent(this.storyContent.title),r=`https://twitter.com/intent/tweet?url=${encodeURIComponent(`https://artypantss.com/facebook.php?id=${this.storyId}`)}&text=${e}`;window.open(r,"_blank","width=600,height=400")}shareOnPinterest(){if(!this.storyContent||!this.storyDetail)return;let e=encodeURIComponent(`https://hyperblah.com/funtelapi/${this.storyDetail.user_id}/${this.storyDetail.story_image}`),i=encodeURIComponent(this.storyContent.title),s=`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(`https://artypantss.com/facebook.php?id=${this.storyId}`)}&media=${e}&description=${i}`;window.open(s,"_blank","width=700,height=500")}shareOnTumblr(){if(!this.storyContent)return;let e=encodeURIComponent(this.storyContent.title),i=encodeURIComponent(this.storyContent.description),s=`https://www.tumblr.com/widgets/share/tool?canonicalUrl=${encodeURIComponent(`https://artypantss.com/facebook.php?id=${this.storyId}`)}&title=${e}&caption=${i}`;window.open(s,"_blank","width=600,height=500")}adjustFontSize(e){e==="increase"&&this.fontSize<1.5?this.fontSize+=.1:e==="decrease"&&this.fontSize>.8&&(this.fontSize-=.1)}onWindowScroll(){let e=window.scrollY||document.documentElement.scrollTop,i=document.documentElement.scrollHeight-document.documentElement.clientHeight,r=e/i*100;this.scrollProgress=`${r}%`}formatCount(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}storeReadProgress(e,i,r,s){console.log("\u{1F4CC} Storing progress for:",{storyId:e,partId:i,totalParts:r,partTitle:s});let d=sessionStorage.getItem("userId");if(!d)return;let p=`story_progress_${d}`,c=JSON.parse(localStorage.getItem(p)||"{}");if(!c[e])c[e]={lastReadPartId:i,readParts:[i],totalParts:r,lastPartTitle:s,timestamp:Date.now()};else{let m=c[e];m.lastReadPartId=i,m.lastPartTitle=s,m.timestamp=Date.now(),m.readParts.includes(i)||m.readParts.push(i)}localStorage.setItem(p,JSON.stringify(c))}static{this.\u0275fac=function(i){return new(i||t)(P(ie),P(Q),P(qe),P(X))}}static{this.\u0275cmp=B({type:t,selectors:[["app-series"]],viewQuery:function(i,r){if(i&1&&It(Oi,5),i&2){let s;Mt(s=Pt())&&(r.storyContentDiv=s.first)}},hostBindings:function(i,r){i&1&&k("scroll",function(){return r.onWindowScroll()},!1,Ct)},standalone:!0,features:[G],decls:103,vars:25,consts:[["storyContentBox",""],[1,"completeline"],[1,"container","mx-auto","px-4","py-6","flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-1/4","hidden","lg:block"],[1,"bg-white","dark:bg-gray-800","rounded-xl","p-4","shadow-sm","mb-6","sticky","top-20"],[1,"flex","items-center","space-x-4","mb-4"],[1,"bg-gray-200","dark:bg-gray-700","w-16","h-16","rounded-full","flex","items-center","justify-center"],[1,"text-gray-500","dark:text-gray-400"],[1,"font-bold"],[1,"text-sm","text-wattpad-light"],["class","px-4 py-2 rounded-full text-sm font-medium hover:bg-opacity-80 transition-colors",3,"ngClass","click",4,"ngIf"],[1,"mb-4"],[1,"font-medium","mb-2"],[1,"flex","space-x-2"],[1,"pointer","bg-blue-600","text-white","p-2","rounded-full","hover:bg-blue-700",3,"click"],[1,"fab","fa-facebook-f"],[1,"pointer","bg-blue-400","text-white","p-2","rounded-full","hover:bg-blue-500",3,"click"],[1,"fab","fa-twitter"],[1,"pointer","bg-green-500","text-white","p-2","rounded-full","hover:bg-green-600",3,"click"],[1,"fab","fa-whatsapp"],[1,"audio-player","flex","items-center","justify-between","text-white"],[1,"play-pause"],[1,"fas","fa-play"],[1,"flex-1","mx-4"],[1,"w-full","bg-gray-400","h-1","rounded-full"],[1,"bg-white","h-1","rounded-full",2,"width","30%"],[1,"text-xs"],[1,"bg-gray-200","dark:bg-gray-700","h-40","w-full","rounded-lg","flex","items-center","justify-center","mt-4"],[1,"lg:w-2/4"],[1,"bg-white","dark:bg-gray-800","rounded-xl","p-6","shadow-sm","mb-6"],[1,"flex","justify-between","items-start"],["class","text-2xl lg:text-3xl font-bold mb-2",4,"ngIf"],[1,"flex","items-center","mb-4"],[1,"star-rating"],["type","radio","id","star5","name","rating","value","5"],["for","star5","title","5 stars"],[1,"fas","fa-star"],["type","radio","id","star4","name","rating","value","4"],["for","star4","title","4 stars"],["type","radio","id","star3","name","rating","value","3"],["for","star3","title","3 stars"],["type","radio","id","star2","name","rating","value","2"],["for","star2","title","2 stars"],["type","radio","id","star1","name","rating","value","1"],["for","star1","title","1 star"],[1,"text-sm","text-wattpad-light","ml-2"],[1,"p-2","pointer","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-700",3,"click"],[1,"fas","fa-expand"],[1,"video-container","mb-6","rounded-lg","overflow-hidden"],["src",_t`https://www.youtube.com/embed/dQw4w9WgXcQ`,"frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen",""],["class","story-content text-base leading-relaxed space-y-4","id","storyContent",3,"innerHTML",4,"ngIf"],["class","mt-8 text-center",4,"ngIf"],["class","",4,"ngIf"],[3,"storyId",4,"ngIf"],[1,"bg-gray-200","dark:bg-gray-700","h-96","w-full","rounded-lg","flex","items-center","justify-center","sticky","top-20"],["id","fullscreenReader",1,"fullscreen-reader"],[1,"container","mx-auto","max-w-4xl"],[1,"text-3xl","font-bold","mb-6"],["id","readerContent",1,"text-lg","leading-relaxed","space-y-6",3,"innerHTML"],["id","readerControls",1,"reader-controls"],[1,"p-2","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","pointer",3,"click"],[1,"fas","fa-sun"],[1,"fas","fa-moon"],[1,"fas","fa-book-open"],[1,"fas","fa-font"],[1,"fas","fa-minus"],[1,"fas","fa-plus"],[1,"p-2","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","text-wattpad-primary",3,"click"],[1,"fas","fa-times"],[1,"hidden","lg:block","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","py-12"],[1,"bottom-nav","fixed","bottom-0","left-0","right-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","lg:hidden"],["id","commentBox",1,"comment-box"],["placeholder","Write your comment...",1,"w-full","px-3","py-2","mb-2","rounded-lg","border","border-gray-300","focus:outline-none"],[1,"flex","justify-end"],[1,"bg-wattpad-primary","text-white","px-3","py-1","rounded","text-sm","font-medium","hover:bg-[#E5274B]"],[1,"px-4","py-2","rounded-full","text-sm","font-medium","hover:bg-opacity-80","transition-colors",3,"click","ngClass"],[1,"text-2xl","lg:text-3xl","font-bold","mb-2"],["id","storyContent",1,"story-content","text-base","leading-relaxed","space-y-4",3,"innerHTML"],[1,"mt-8","text-center"],[1,"bg-wattpad-primary","text-white","px-8","pointer","py-3","pointer","rounded-full","font-medium","hover:bg-[#E5274B]",3,"click"],[1,"fas","fa-arrow-right","ml-2"],[1,""],[3,"storyId"]],template:function(i,r){i&1&&(f(0,"div",1)(1,"app-header"),o(2,"div",2)(3,"aside",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),l(8),a()(),o(9,"div")(10,"h3",8)(11,"h3",8),l(12),a()(),o(13,"p",9),l(14),a()()(),v(15,Di,2,5,"button",10),o(16,"div",11)(17,"h4",12),l(18,"Share this story"),a(),o(19,"div",13)(20,"a",14),k("click",function(d){return r.shareOnFacebook(d)}),f(21,"i",15),a(),o(22,"a",16),k("click",function(){return r.shareOnTwitter()}),f(23,"i",17),a(),o(24,"a",18),k("click",function(d){return r.shareOnFacebook(d)}),f(25,"i",19),a()()(),o(26,"div",11)(27,"h4",12),l(28,"Listen to this story"),a(),o(29,"div",20)(30,"button",21),f(31,"i",22),a(),o(32,"div",23)(33,"div",24),f(34,"div",25),a()(),o(35,"span",26),l(36,"12:45"),a()()(),o(37,"div",27)(38,"span",7),l(39,"Advertisement"),a()()()(),o(40,"main",28)(41,"article",29)(42,"div",30)(43,"div"),v(44,zi,2,1,"h1",31),o(45,"div",32)(46,"div",33),f(47,"input",34),o(48,"label",35),f(49,"i",36),a(),f(50,"input",37),o(51,"label",38),f(52,"i",36),a(),f(53,"input",39),o(54,"label",40),f(55,"i",36),a(),f(56,"input",41),o(57,"label",42),f(58,"i",36),a(),f(59,"input",43),o(60,"label",44),f(61,"i",36),a()(),o(62,"span",45),l(63,"(4.8 from 1.2k ratings)"),a()()(),o(64,"button",46),k("click",function(){return r.toggleFullscreen()}),f(65,"i",47),a()(),o(66,"div",48),f(67,"iframe",49),a(),v(68,Ni,2,1,"div",50)(69,Ri,4,0,"div",51)(70,ji,2,0,"div",52),a(),v(71,Vi,1,1,"app-comment-section",53),a(),o(72,"aside",3)(73,"div",54)(74,"span",7),l(75,"Advertisement"),a()()()(),o(76,"div",55)(77,"div",56)(78,"h1",57),l(79),a(),f(80,"div",58),a(),o(81,"div",59)(82,"button",60),k("click",function(){return r.changeReaderMode("light")}),f(83,"i",61),a(),o(84,"button",60),k("click",function(){return r.changeReaderMode("dark")}),f(85,"i",62),a(),o(86,"button",60),k("click",function(){return r.changeReaderMode("reading")}),f(87,"i",63),a(),o(88,"button",60),k("click",function(){return r.adjustFontSize("decrease")}),f(89,"i",64)(90,"i",65),a(),o(91,"button",60),k("click",function(){return r.adjustFontSize("increase")}),f(92,"i",64)(93,"i",66),a(),o(94,"button",67),k("click",function(){return r.toggleFullscreen()}),f(95,"i",68),a()()(),f(96,"footer",69)(97,"nav",70),o(98,"div",71),f(99,"textarea",72),o(100,"div",73)(101,"button",74),l(102," Post "),a()()()),i&2&&(tt("width",r.scrollProgress),u(8),M(r.storyDetail.author_name==null?null:r.storyDetail.author_name.charAt(0)),u(4),M(r.storyDetail.author_name||"Unknown Author"),u(2),z("",r.formatCount(r.followerCount)," followers"),u(),w("ngIf",r.storyDetail&&r.storyDetail.author_id!==r.userId),u(29),w("ngIf",r.storyContent&&!r.isLoading),u(24),w("ngIf",r.storyContent&&!r.isLoading),u(),w("ngIf",r.partsLoaded&&!r.isLastPart()),u(),w("ngIf",r.allParts.length>0&&r.isLastPart()),u(),w("ngIf",r.storyId!==null),u(5),Pe("active",r.isFullscreen)("dark",r.readerMode==="dark")("reading-mode",r.readerMode==="reading"),u(3),M(r.storyContent==null?null:r.storyContent.title),u(),tt("font-size",r.fontSize+"rem"),w("innerHTML",r.storyContent==null?null:r.storyContent.content,De),u(),Pe("dark",r.readerMode==="dark")("reading-mode",r.readerMode==="reading"))},dependencies:[K,H,Ie,q,qt],styles:[".readstory[_ngcontent-%COMP%]{padding:50px;background:#fff;border:1px solid #ccc;margin:0 10px}.completeline[_ngcontent-%COMP%]{width:0%;height:5px;background:#429c30;position:fixed;top:0;left:0;z-index:9999;transition:width .1s ease-out}.authorimg[_ngcontent-%COMP%]{display:-webkit-inline-box;background:#78909c;padding:14px 25px;border-radius:100px;color:#fff;font-weight:700;font-size:24px;margin-bottom:9px}.social[_ngcontent-%COMP%]{border:0;background:none;display:block;margin:0 auto;padding-bottom:20px}.share[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.nextpart[_ngcontent-%COMP%]{margin-top:50px;text-align:center}.user[_ngcontent-%COMP%]{text-align:center}.nextpart[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 50px;font-weight:700;font-size:16px}.nextpart[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{padding:10px 50px;font-weight:700;font-size:16px;border:1px solid #000}.dark[_ngcontent-%COMP%]   .fullscreen-reader.active[_ngcontent-%COMP%]{color:#000!important}.dark[_ngcontent-%COMP%]   .fullscreen-reader[_ngcontent-%COMP%]{background:#1a1b1f!important}.fullscreen-reader[_ngcontent-%COMP%]{position:fixed;inset:0;background:#fff;z-index:1000;padding:2rem;overflow-y:auto;display:none}.fullscreen-reader.active[_ngcontent-%COMP%]{display:block;color:#000}.fullscreen-reader.dark[_ngcontent-%COMP%]{background:#1e1e1e;color:#f8f8f8}.fullscreen-reader.reading-mode[_ngcontent-%COMP%]{background:beige;color:#333}"]})}}return t})();var Qt=(()=>{class t{constructor(e,i,r,s){this.fb=e,this.route=i,this.router=r,this.http=s,this.storyId=0}ngOnInit(){let e=this.route.snapshot.paramMap.get("storyId");this.storyId=e?Number(e):0,console.log("\u2705 Story ID received from route:",this.storyId),this.storyForm=this.fb.group({story_title:["",Y.required],story_content:["",Y.required]})}onSubmit(){let e=sessionStorage.getItem("userId");if(!e){alert("Please log in again");return}if(this.storyForm.invalid){alert("Please complete all fields");return}let i=this.storyForm.value,r={user_id:e,story_title:i.story_title,story_content:i.story_content,story_id:this.storyId};this.http.post("https://hyperblah.com/funtelapi/addstory.php",r).subscribe({next:s=>{s.status==="success"?(alert("\u2713 New part added!"),this.router.navigate(["/episode",`${this.storyId}-`+this.slugify(i.story_title)])):alert("\u26A0 Error: "+s.message)},error:s=>{console.error("API error",s),alert("\u26A0 Something went wrong.")}})}slugify(e){return e.toLowerCase().trim().replace(/[\s\W-]+/g,"-").replace(/^-+|-+$/g,"")}static{this.\u0275fac=function(i){return new(i||t)(P(xe),P(ie),P(Q),P(X))}}static{this.\u0275cmp=B({type:t,selectors:[["app-create"]],standalone:!0,features:[G],decls:63,vars:1,consts:[[1,"container","mx-auto","px-4","lg:px-6","pb-20"],[3,"ngSubmit","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-6","shadow-sm","mb-6"],[1,"text-lg","font-bold","mb-4"],[1,"mb-6"],[1,"block","text-sm","font-medium","mb-2"],[1,"mb-4"],[1,"border-2","border-dashed","border-gray-300","dark:border-gray-600","rounded-lg","p-4","flex","flex-col","items-center","justify-center"],[1,"fas","fa-microphone","text-3xl","text-wattpad-light","mb-2"],[1,"text-center","text-wattpad-light","mb-3"],[1,"px-4","py-2","rounded-full","font-medium","bg-gray-200","dark:bg-gray-700","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors"],[1,"text-xs","text-wattpad-light","mt-2"],[1,"mb-2"],[1,"flex"],["type","text","placeholder","Or paste audio URL (SoundCloud, etc.)",1,"flex-1","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-l-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],[1,"px-4","py-2","rounded-r-lg","font-medium","bg-gray-200","dark:bg-gray-700","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors"],[1,"flex","items-center","mt-3"],["id","voiceOverCheckbox","type","checkbox",1,"w-4","h-4","text-wattpad-primary","rounded","focus:ring-wattpad-primary","border-gray-300","dark:border-gray-600"],["for","voiceOverCheckbox",1,"ml-2","text-sm","text-wattpad-light"],[1,"flex","mb-2"],["type","text","placeholder","Paste YouTube or Vimeo link",1,"flex-1","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-l-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["id","producerCheckbox","type","checkbox",1,"w-4","h-4","text-wattpad-primary","rounded","focus:ring-wattpad-primary","border-gray-300","dark:border-gray-600"],["for","producerCheckbox",1,"ml-2","text-sm","text-wattpad-light"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","mb-6"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700"],["type","text","formControlName","story_title","placeholder","Untitled Part",1,"w-full","text-2xl","font-bold","bg-transparent","focus:outline-none","focus:ring-0","p-0"],["formControlName","story_content"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-6","shadow-sm"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],[1,"w-12","h-12","rounded-full","bg-gray-200","dark:bg-gray-700","flex","items-center","justify-center"],[1,"text-gray-500","dark:text-gray-400"],[1,"text-xl","lg:text-2xl","font-bold"],[1,"text-sm","text-wattpad-light"],["id","wordCount"],[1,"flex","flex-wrap","gap-3"],[1,"px-6","py-2","rounded-full","font-medium","bg-wattpad-primary","text-white","hover:bg-[#E5274B]","transition-colors"],[1,"fas","fa-upload","mr-2"],["type","submit",1,"px-6","py-2","rounded-full","font-medium","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"fas","fa-save","mr-2"]],template:function(i,r){i&1&&(f(0,"app-header"),o(1,"main",0)(2,"form",1),k("ngSubmit",function(){return r.onSubmit()}),o(3,"div",2)(4,"h2",3),l(5,"Add Media"),a(),o(6,"div",4)(7,"label",5),l(8,"Audio"),a(),o(9,"div",6)(10,"div",7),f(11,"i",8),o(12,"p",9),l(13,"Drag & drop audio file or click to browse"),a(),o(14,"button",10),l(15," Select Audio File "),a(),o(16,"p",11),l(17,"MP3 or WAV, max 10MB"),a()()(),o(18,"div",12)(19,"div",13),f(20,"input",14),o(21,"button",15),l(22," Add URL "),a()()(),o(23,"div",16),f(24,"input",17),o(25,"label",18),l(26," I'm looking for a voice-over artist to narrate this story "),a()()(),o(27,"div")(28,"label",5),l(29,"Video Link"),a(),o(30,"div",19),f(31,"input",20),o(32,"button",15),l(33," Add Link "),a()(),o(34,"div",16),f(35,"input",21),o(36,"label",22),l(37," I'm interested in connecting with producers/film studios to adapt this story "),a()()()(),o(38,"div",23)(39,"div",24),f(40,"input",25),a(),f(41,"editor",26),a(),o(42,"div",27)(43,"div",28)(44,"div",29)(45,"div",30)(46,"span",31),l(47,"R"),a()(),o(48,"div")(49,"h1",32),l(50,"Midnight Secrets"),a(),o(51,"p",33),l(52,"Part 1 \u2022 "),o(53,"span",34),l(54,"0"),a(),l(55," words"),a()()(),o(56,"div",35)(57,"button",36),f(58,"i",37),l(59," Publish "),a(),o(60,"button",38),f(61,"i",39),l(62," Save Draft "),a()()()()()()),i&2&&(u(2),w("formGroup",r.storyForm))},dependencies:[H,K,ue,me,ae,le,ce,ge,he,Xe,Bt],styles:[".draftimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.draftimg[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;text-align:center;margin-top:10px}.draftimg[_ngcontent-%COMP%]{margin-bottom:15px}"]})}}return t})();function Kt(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function nt(t,n){t===void 0&&(t={}),n===void 0&&(n={});let e=["__proto__","constructor","prototype"];Object.keys(n).filter(i=>e.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=n[i]:Kt(n[i])&&Kt(t[i])&&Object.keys(n[i]).length>0&&nt(t[i],n[i])})}var Zt={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ce(){let t=typeof document<"u"?document:{};return nt(t,Zt),t}var Bi={document:Zt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function J(){let t=typeof window<"u"?window:{};return nt(t,Bi),t}function Gi(t){return t===void 0&&(t=""),t.trim().split(" ").filter(n=>!!n.trim())}function Jt(t){let n=t;Object.keys(n).forEach(e=>{try{n[e]=null}catch{}try{delete n[e]}catch{}})}function ot(t,n){return n===void 0&&(n=0),setTimeout(t,n)}function je(){return Date.now()}function Hi(t){let n=J(),e;return n.getComputedStyle&&(e=n.getComputedStyle(t,null)),!e&&t.currentStyle&&(e=t.currentStyle),e||(e=t.style),e}function ei(t,n){n===void 0&&(n="x");let e=J(),i,r,s,d=Hi(t);return e.WebKitCSSMatrix?(r=d.transform||d.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(p=>p.replace(",",".")).join(", ")),s=new e.WebKitCSSMatrix(r==="none"?"":r)):(s=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),n==="x"&&(e.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),n==="y"&&(e.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Qe(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function $i(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function de(){let t=Object(arguments.length<=0?void 0:arguments[0]),n=["__proto__","constructor","prototype"];for(let e=1;e<arguments.length;e+=1){let i=e<0||arguments.length<=e?void 0:arguments[e];if(i!=null&&!$i(i)){let r=Object.keys(Object(i)).filter(s=>n.indexOf(s)<0);for(let s=0,d=r.length;s<d;s+=1){let p=r[s],c=Object.getOwnPropertyDescriptor(i,p);c!==void 0&&c.enumerable&&(Qe(t[p])&&Qe(i[p])?i[p].__swiper__?t[p]=i[p]:de(t[p],i[p]):!Qe(t[p])&&Qe(i[p])?(t[p]={},i[p].__swiper__?t[p]=i[p]:de(t[p],i[p])):t[p]=i[p])}}}return t}function Ve(t,n,e){t.style.setProperty(n,e)}function st(t){let{swiper:n,targetPosition:e,side:i}=t,r=J(),s=-n.translate,d=null,p,c=n.params.speed;n.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(n.cssModeFrameID);let m=e>s?"next":"prev",g=(x,b)=>m==="next"&&x>=b||m==="prev"&&x<=b,h=()=>{p=new Date().getTime(),d===null&&(d=p);let x=Math.max(Math.min((p-d)/c,1),0),b=.5-Math.cos(x*Math.PI)/2,y=s+b*(e-s);if(g(y,e)&&(y=e),n.wrapperEl.scrollTo({[i]:y}),g(y,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[i]:y})}),r.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=r.requestAnimationFrame(h)};h()}function ve(t,n){n===void 0&&(n="");let e=J(),i=[...t.children];return e.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),n?i.filter(r=>r.matches(n)):i}function Ui(t,n){let e=[n];for(;e.length>0;){let i=e.shift();if(t===i)return!0;e.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function ti(t,n){let e=J(),i=n.contains(t);return!i&&e.HTMLSlotElement&&n instanceof HTMLSlotElement&&(i=[...n.assignedElements()].includes(t),i||(i=Ui(t,n))),i}function Be(t){try{console.warn(t);return}catch{}}function Ke(t,n){n===void 0&&(n=[]);let e=document.createElement(t);return e.classList.add(...Array.isArray(n)?n:Gi(n)),e}function ii(t,n){let e=[];for(;t.previousElementSibling;){let i=t.previousElementSibling;n?i.matches(n)&&e.push(i):e.push(i),t=i}return e}function ri(t,n){let e=[];for(;t.nextElementSibling;){let i=t.nextElementSibling;n?i.matches(n)&&e.push(i):e.push(i),t=i}return e}function Ee(t,n){return J().getComputedStyle(t,null).getPropertyValue(n)}function at(t){let n=t,e;if(n){for(e=0;(n=n.previousSibling)!==null;)n.nodeType===1&&(e+=1);return e}}function ni(t,n){let e=[],i=t.parentElement;for(;i;)n?i.matches(n)&&e.push(i):e.push(i),i=i.parentElement;return e}function lt(t,n,e){let i=J();return e?t[n==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(n==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(n==="width"?"margin-left":"margin-bottom")):t.offsetWidth}var dt;function Yi(){let t=J(),n=Ce();return{smoothScroll:n.documentElement&&n.documentElement.style&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch)}}function pi(){return dt||(dt=Yi()),dt}var pt;function Wi(t){let{userAgent:n}=t===void 0?{}:t,e=pi(),i=J(),r=i.navigator.platform,s=n||i.navigator.userAgent,d={ios:!1,android:!1},p=i.screen.width,c=i.screen.height,m=s.match(/(Android);?[\s\/]+([\d.]+)?/),g=s.match(/(iPad).*OS\s([\d_]+)/),h=s.match(/(iPod)(.*OS\s([\d_]+))?/),x=!g&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),b=r==="Win32",y=r==="MacIntel",E=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&y&&e.touch&&E.indexOf(`${p}x${c}`)>=0&&(g=s.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),y=!1),m&&!b&&(d.os="android",d.android=!0),(g||x||h)&&(d.os="ios",d.ios=!0),d}function ci(t){return t===void 0&&(t={}),pt||(pt=Wi(t)),pt}var ct;function qi(){let t=J(),n=ci(),e=!1;function i(){let p=t.navigator.userAgent.toLowerCase();return p.indexOf("safari")>=0&&p.indexOf("chrome")<0&&p.indexOf("android")<0}if(i()){let p=String(t.navigator.userAgent);if(p.includes("Version/")){let[c,m]=p.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));e=c<16||c===16&&m<2}}let r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),d=s||r&&n.ios;return{isSafari:e||s,needPerspectiveFix:e,need3dFix:d,isWebView:r}}function mi(){return ct||(ct=qi()),ct}function Xi(t){let{swiper:n,on:e,emit:i}=t,r=J(),s=null,d=null,p=()=>{!n||n.destroyed||!n.initialized||(i("beforeResize"),i("resize"))},c=()=>{!n||n.destroyed||!n.initialized||(s=new ResizeObserver(h=>{d=r.requestAnimationFrame(()=>{let{width:x,height:b}=n,y=x,E=b;h.forEach(N=>{let{contentBoxSize:S,contentRect:I,target:_}=N;_&&_!==n.el||(y=I?I.width:(S[0]||S).inlineSize,E=I?I.height:(S[0]||S).blockSize)}),(y!==x||E!==b)&&p()})}),s.observe(n.el))},m=()=>{d&&r.cancelAnimationFrame(d),s&&s.unobserve&&n.el&&(s.unobserve(n.el),s=null)},g=()=>{!n||n.destroyed||!n.initialized||i("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof r.ResizeObserver<"u"){c();return}r.addEventListener("resize",p),r.addEventListener("orientationchange",g)}),e("destroy",()=>{m(),r.removeEventListener("resize",p),r.removeEventListener("orientationchange",g)})}function Qi(t){let{swiper:n,extendParams:e,on:i,emit:r}=t,s=[],d=J(),p=function(g,h){h===void 0&&(h={});let x=d.MutationObserver||d.WebkitMutationObserver,b=new x(y=>{if(n.__preventObserver__)return;if(y.length===1){r("observerUpdate",y[0]);return}let E=function(){r("observerUpdate",y[0])};d.requestAnimationFrame?d.requestAnimationFrame(E):d.setTimeout(E,0)});b.observe(g,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:n.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(b)},c=()=>{if(n.params.observer){if(n.params.observeParents){let g=ni(n.hostEl);for(let h=0;h<g.length;h+=1)p(g[h])}p(n.hostEl,{childList:n.params.observeSlideChildren}),p(n.wrapperEl,{attributes:!1})}},m=()=>{s.forEach(g=>{g.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",c),i("destroy",m)}var Ki={on(t,n,e){let i=this;if(!i.eventsListeners||i.destroyed||typeof n!="function")return i;let r=e?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](n)}),i},once(t,n,e){let i=this;if(!i.eventsListeners||i.destroyed||typeof n!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,d=new Array(s),p=0;p<s;p++)d[p]=arguments[p];n.apply(i,d)}return r.__emitterProxy=n,i.on(t,r,e)},onAny(t,n){let e=this;if(!e.eventsListeners||e.destroyed||typeof t!="function")return e;let i=n?"unshift":"push";return e.eventsAnyListeners.indexOf(t)<0&&e.eventsAnyListeners[i](t),e},offAny(t){let n=this;if(!n.eventsListeners||n.destroyed||!n.eventsAnyListeners)return n;let e=n.eventsAnyListeners.indexOf(t);return e>=0&&n.eventsAnyListeners.splice(e,1),n},off(t,n){let e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||t.split(" ").forEach(i=>{typeof n>"u"?e.eventsListeners[i]=[]:e.eventsListeners[i]&&e.eventsListeners[i].forEach((r,s)=>{(r===n||r.__emitterProxy&&r.__emitterProxy===n)&&e.eventsListeners[i].splice(s,1)})}),e},emit(){let t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,e,i;for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return typeof s[0]=="string"||Array.isArray(s[0])?(n=s[0],e=s.slice(1,s.length),i=t):(n=s[0].events,e=s[0].data,i=s[0].context||t),e.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(m=>{m.apply(i,[c,...e])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(m=>{m.apply(i,e)})}),t}};function Zi(){let t=this,n,e,i=t.el;typeof t.params.width<"u"&&t.params.width!==null?n=t.params.width:n=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?e=t.params.height:e=i.clientHeight,!(n===0&&t.isHorizontal()||e===0&&t.isVertical())&&(n=n-parseInt(Ee(i,"padding-left")||0,10)-parseInt(Ee(i,"padding-right")||0,10),e=e-parseInt(Ee(i,"padding-top")||0,10)-parseInt(Ee(i,"padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(e)&&(e=0),Object.assign(t,{width:n,height:e,size:t.isHorizontal()?n:e}))}function Ji(){let t=this;function n(T,F){return parseFloat(T.getPropertyValue(t.getDirectionLabel(F))||0)}let e=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:d,wrongRTL:p}=t,c=t.virtual&&e.virtual.enabled,m=c?t.virtual.slides.length:t.slides.length,g=ve(r,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:g.length,x=[],b=[],y=[],E=e.slidesOffsetBefore;typeof E=="function"&&(E=e.slidesOffsetBefore.call(t));let N=e.slidesOffsetAfter;typeof N=="function"&&(N=e.slidesOffsetAfter.call(t));let S=t.snapGrid.length,I=t.slidesGrid.length,_=e.spaceBetween,O=-E,A=0,L=0;if(typeof s>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*s:typeof _=="string"&&(_=parseFloat(_)),t.virtualSize=-_,g.forEach(T=>{d?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),e.centeredSlides&&e.cssMode&&(Ve(i,"--swiper-centered-offset-before",""),Ve(i,"--swiper-centered-offset-after",""));let V=e.grid&&e.grid.rows>1&&t.grid;V?t.grid.initSlides(g):t.grid&&t.grid.unsetSlides();let D,ne=e.slidesPerView==="auto"&&e.breakpoints&&Object.keys(e.breakpoints).filter(T=>typeof e.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<h;T+=1){D=0;let F;if(g[T]&&(F=g[T]),V&&t.grid.updateSlide(T,F,g),!(g[T]&&Ee(F,"display")==="none")){if(e.slidesPerView==="auto"){ne&&(g[T].style[t.getDirectionLabel("width")]="");let j=getComputedStyle(F),Z=F.style.transform,Te=F.style.webkitTransform;if(Z&&(F.style.transform="none"),Te&&(F.style.webkitTransform="none"),e.roundLengths)D=t.isHorizontal()?lt(F,"width",!0):lt(F,"height",!0);else{let ke=n(j,"width"),R=n(j,"padding-left"),ee=n(j,"padding-right"),oe=n(j,"margin-left"),Se=n(j,"margin-right"),yt=j.getPropertyValue("box-sizing");if(yt&&yt==="border-box")D=ke+oe+Se;else{let{clientWidth:Ei,offsetWidth:Ti}=F;D=ke+R+ee+oe+Se+(Ti-Ei)}}Z&&(F.style.transform=Z),Te&&(F.style.webkitTransform=Te),e.roundLengths&&(D=Math.floor(D))}else D=(s-(e.slidesPerView-1)*_)/e.slidesPerView,e.roundLengths&&(D=Math.floor(D)),g[T]&&(g[T].style[t.getDirectionLabel("width")]=`${D}px`);g[T]&&(g[T].swiperSlideSize=D),y.push(D),e.centeredSlides?(O=O+D/2+A/2+_,A===0&&T!==0&&(O=O-s/2-_),T===0&&(O=O-s/2-_),Math.abs(O)<1/1e3&&(O=0),e.roundLengths&&(O=Math.floor(O)),L%e.slidesPerGroup===0&&x.push(O),b.push(O)):(e.roundLengths&&(O=Math.floor(O)),(L-Math.min(t.params.slidesPerGroupSkip,L))%t.params.slidesPerGroup===0&&x.push(O),b.push(O),O=O+D+_),t.virtualSize+=D+_,A=D,L+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+N,d&&p&&(e.effect==="slide"||e.effect==="coverflow")&&(i.style.width=`${t.virtualSize+_}px`),e.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+_}px`),V&&t.grid.updateWrapperSize(D,x),!e.centeredSlides){let T=[];for(let F=0;F<x.length;F+=1){let j=x[F];e.roundLengths&&(j=Math.floor(j)),x[F]<=t.virtualSize-s&&T.push(j)}x=T,Math.floor(t.virtualSize-s)-Math.floor(x[x.length-1])>1&&x.push(t.virtualSize-s)}if(c&&e.loop){let T=y[0]+_;if(e.slidesPerGroup>1){let F=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/e.slidesPerGroup),j=T*e.slidesPerGroup;for(let Z=0;Z<F;Z+=1)x.push(x[x.length-1]+j)}for(let F=0;F<t.virtual.slidesBefore+t.virtual.slidesAfter;F+=1)e.slidesPerGroup===1&&x.push(x[x.length-1]+T),b.push(b[b.length-1]+T),t.virtualSize+=T}if(x.length===0&&(x=[0]),_!==0){let T=t.isHorizontal()&&d?"marginLeft":t.getDirectionLabel("marginRight");g.filter((F,j)=>!e.cssMode||e.loop?!0:j!==g.length-1).forEach(F=>{F.style[T]=`${_}px`})}if(e.centeredSlides&&e.centeredSlidesBounds){let T=0;y.forEach(j=>{T+=j+(_||0)}),T-=_;let F=T>s?T-s:0;x=x.map(j=>j<=0?-E:j>F?F+N:j)}if(e.centerInsufficientSlides){let T=0;y.forEach(j=>{T+=j+(_||0)}),T-=_;let F=(e.slidesOffsetBefore||0)+(e.slidesOffsetAfter||0);if(T+F<s){let j=(s-T-F)/2;x.forEach((Z,Te)=>{x[Te]=Z-j}),b.forEach((Z,Te)=>{b[Te]=Z+j})}}if(Object.assign(t,{slides:g,snapGrid:x,slidesGrid:b,slidesSizesGrid:y}),e.centeredSlides&&e.cssMode&&!e.centeredSlidesBounds){Ve(i,"--swiper-centered-offset-before",`${-x[0]}px`),Ve(i,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);let T=-t.snapGrid[0],F=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(j=>j+T),t.slidesGrid=t.slidesGrid.map(j=>j+F)}if(h!==m&&t.emit("slidesLengthChange"),x.length!==S&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),b.length!==I&&t.emit("slidesGridLengthChange"),e.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!e.cssMode&&(e.effect==="slide"||e.effect==="fade")){let T=`${e.containerModifierClass}backface-hidden`,F=t.el.classList.contains(T);h<=e.maxBackfaceHiddenSlides?F||t.el.classList.add(T):F&&t.el.classList.remove(T)}}function er(t){let n=this,e=[],i=n.virtual&&n.params.virtual.enabled,r=0,s;typeof t=="number"?n.setTransition(t):t===!0&&n.setTransition(n.params.speed);let d=p=>i?n.slides[n.getSlideIndexByData(p)]:n.slides[p];if(n.params.slidesPerView!=="auto"&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||[]).forEach(p=>{e.push(p)});else for(s=0;s<Math.ceil(n.params.slidesPerView);s+=1){let p=n.activeIndex+s;if(p>n.slides.length&&!i)break;e.push(d(p))}else e.push(d(n.activeIndex));for(s=0;s<e.length;s+=1)if(typeof e[s]<"u"){let p=e[s].offsetHeight;r=p>r?p:r}(r||r===0)&&(n.wrapperEl.style.height=`${r}px`)}function tr(){let t=this,n=t.slides,e=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<n.length;i+=1)n[i].swiperSlideOffset=(t.isHorizontal()?n[i].offsetLeft:n[i].offsetTop)-e-t.cssOverflowAdjustment()}var oi=(t,n,e)=>{n&&!t.classList.contains(e)?t.classList.add(e):!n&&t.classList.contains(e)&&t.classList.remove(e)};function ir(t){t===void 0&&(t=this&&this.translate||0);let n=this,e=n.params,{slides:i,rtlTranslate:r,snapGrid:s}=n;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&n.updateSlidesOffset();let d=-t;r&&(d=t),n.visibleSlidesIndexes=[],n.visibleSlides=[];let p=e.spaceBetween;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*n.size:typeof p=="string"&&(p=parseFloat(p));for(let c=0;c<i.length;c+=1){let m=i[c],g=m.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(g-=i[0].swiperSlideOffset);let h=(d+(e.centeredSlides?n.minTranslate():0)-g)/(m.swiperSlideSize+p),x=(d-s[0]+(e.centeredSlides?n.minTranslate():0)-g)/(m.swiperSlideSize+p),b=-(d-g),y=b+n.slidesSizesGrid[c],E=b>=0&&b<=n.size-n.slidesSizesGrid[c],N=b>=0&&b<n.size-1||y>1&&y<=n.size||b<=0&&y>=n.size;N&&(n.visibleSlides.push(m),n.visibleSlidesIndexes.push(c)),oi(m,N,e.slideVisibleClass),oi(m,E,e.slideFullyVisibleClass),m.progress=r?-h:h,m.originalProgress=r?-x:x}}function rr(t){let n=this;if(typeof t>"u"){let g=n.rtlTranslate?-1:1;t=n&&n.translate&&n.translate*g||0}let e=n.params,i=n.maxTranslate()-n.minTranslate(),{progress:r,isBeginning:s,isEnd:d,progressLoop:p}=n,c=s,m=d;if(i===0)r=0,s=!0,d=!0;else{r=(t-n.minTranslate())/i;let g=Math.abs(t-n.minTranslate())<1,h=Math.abs(t-n.maxTranslate())<1;s=g||r<=0,d=h||r>=1,g&&(r=0),h&&(r=1)}if(e.loop){let g=n.getSlideIndexByData(0),h=n.getSlideIndexByData(n.slides.length-1),x=n.slidesGrid[g],b=n.slidesGrid[h],y=n.slidesGrid[n.slidesGrid.length-1],E=Math.abs(t);E>=x?p=(E-x)/y:p=(E+y-b)/y,p>1&&(p-=1)}Object.assign(n,{progress:r,progressLoop:p,isBeginning:s,isEnd:d}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&n.updateSlidesProgress(t),s&&!c&&n.emit("reachBeginning toEdge"),d&&!m&&n.emit("reachEnd toEdge"),(c&&!s||m&&!d)&&n.emit("fromEdge"),n.emit("progress",r)}var mt=(t,n,e)=>{n&&!t.classList.contains(e)?t.classList.add(e):!n&&t.classList.contains(e)&&t.classList.remove(e)};function nr(){let t=this,{slides:n,params:e,slidesEl:i,activeIndex:r}=t,s=t.virtual&&e.virtual.enabled,d=t.grid&&e.grid&&e.grid.rows>1,p=h=>ve(i,`.${e.slideClass}${h}, swiper-slide${h}`)[0],c,m,g;if(s)if(e.loop){let h=r-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=p(`[data-swiper-slide-index="${h}"]`)}else c=p(`[data-swiper-slide-index="${r}"]`);else d?(c=n.find(h=>h.column===r),g=n.find(h=>h.column===r+1),m=n.find(h=>h.column===r-1)):c=n[r];c&&(d||(g=ri(c,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!g&&(g=n[0]),m=ii(c,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!m===0&&(m=n[n.length-1]))),n.forEach(h=>{mt(h,h===c,e.slideActiveClass),mt(h,h===g,e.slideNextClass),mt(h,h===m,e.slidePrevClass)}),t.emitSlidesClasses()}var Ze=(t,n)=>{if(!t||t.destroyed||!t.params)return;let e=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=n.closest(e());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},ut=(t,n)=>{if(!t.slides[n])return;let e=t.slides[n].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},ht=t=>{if(!t||t.destroyed||!t.params)return;let n=t.params.lazyPreloadPrevNext,e=t.slides.length;if(!e||!n||n<0)return;n=Math.min(n,e);let i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){let d=r,p=[d-n];p.push(...Array.from({length:n}).map((c,m)=>d+i+m)),t.slides.forEach((c,m)=>{p.includes(c.column)&&ut(t,m)});return}let s=r+i-1;if(t.params.rewind||t.params.loop)for(let d=r-n;d<=s+n;d+=1){let p=(d%e+e)%e;(p<r||p>s)&&ut(t,p)}else for(let d=Math.max(r-n,0);d<=Math.min(s+n,e-1);d+=1)d!==r&&(d>s||d<r)&&ut(t,d)};function or(t){let{slidesGrid:n,params:e}=t,i=t.rtlTranslate?t.translate:-t.translate,r;for(let s=0;s<n.length;s+=1)typeof n[s+1]<"u"?i>=n[s]&&i<n[s+1]-(n[s+1]-n[s])/2?r=s:i>=n[s]&&i<n[s+1]&&(r=s+1):i>=n[s]&&(r=s);return e.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function sr(t){let n=this,e=n.rtlTranslate?n.translate:-n.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:d,snapIndex:p}=n,c=t,m,g=b=>{let y=b-n.virtual.slidesBefore;return y<0&&(y=n.virtual.slides.length+y),y>=n.virtual.slides.length&&(y-=n.virtual.slides.length),y};if(typeof c>"u"&&(c=or(n)),i.indexOf(e)>=0)m=i.indexOf(e);else{let b=Math.min(r.slidesPerGroupSkip,c);m=b+Math.floor((c-b)/r.slidesPerGroup)}if(m>=i.length&&(m=i.length-1),c===s&&!n.params.loop){m!==p&&(n.snapIndex=m,n.emit("snapIndexChange"));return}if(c===s&&n.params.loop&&n.virtual&&n.params.virtual.enabled){n.realIndex=g(c);return}let h=n.grid&&r.grid&&r.grid.rows>1,x;if(n.virtual&&r.virtual.enabled&&r.loop)x=g(c);else if(h){let b=n.slides.find(E=>E.column===c),y=parseInt(b.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(n.slides.indexOf(b),0)),x=Math.floor(y/r.grid.rows)}else if(n.slides[c]){let b=n.slides[c].getAttribute("data-swiper-slide-index");b?x=parseInt(b,10):x=c}else x=c;Object.assign(n,{previousSnapIndex:p,snapIndex:m,previousRealIndex:d,realIndex:x,previousIndex:s,activeIndex:c}),n.initialized&&ht(n),n.emit("activeIndexChange"),n.emit("snapIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&(d!==x&&n.emit("realIndexChange"),n.emit("slideChange"))}function ar(t,n){let e=this,i=e.params,r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&e.isElement&&n&&n.length>1&&n.includes(t)&&[...n.slice(n.indexOf(t)+1,n.length)].forEach(p=>{!r&&p.matches&&p.matches(`.${i.slideClass}, swiper-slide`)&&(r=p)});let s=!1,d;if(r){for(let p=0;p<e.slides.length;p+=1)if(e.slides[p]===r){s=!0,d=p;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=d;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}i.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var lr={updateSize:Zi,updateSlides:Ji,updateAutoHeight:er,updateSlidesOffset:tr,updateSlidesProgress:ir,updateProgress:rr,updateSlidesClasses:nr,updateActiveIndex:sr,updateClickedSlide:ar};function dr(t){t===void 0&&(t=this.isHorizontal()?"x":"y");let n=this,{params:e,rtlTranslate:i,translate:r,wrapperEl:s}=n;if(e.virtualTranslate)return i?-r:r;if(e.cssMode)return r;let d=ei(s,t);return d+=n.cssOverflowAdjustment(),i&&(d=-d),d||0}function pr(t,n){let e=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:d}=e,p=0,c=0,m=0;e.isHorizontal()?p=i?-t:t:c=t,r.roundLengths&&(p=Math.floor(p),c=Math.floor(c)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?p:c,r.cssMode?s[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-p:-c:r.virtualTranslate||(e.isHorizontal()?p-=e.cssOverflowAdjustment():c-=e.cssOverflowAdjustment(),s.style.transform=`translate3d(${p}px, ${c}px, ${m}px)`);let g,h=e.maxTranslate()-e.minTranslate();h===0?g=0:g=(t-e.minTranslate())/h,g!==d&&e.updateProgress(t),e.emit("setTranslate",e.translate,n)}function cr(){return-this.snapGrid[0]}function mr(){return-this.snapGrid[this.snapGrid.length-1]}function ur(t,n,e,i,r){t===void 0&&(t=0),n===void 0&&(n=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=!0);let s=this,{params:d,wrapperEl:p}=s;if(s.animating&&d.preventInteractionOnTransition)return!1;let c=s.minTranslate(),m=s.maxTranslate(),g;if(i&&t>c?g=c:i&&t<m?g=m:g=t,s.updateProgress(g),d.cssMode){let h=s.isHorizontal();if(n===0)p[h?"scrollLeft":"scrollTop"]=-g;else{if(!s.support.smoothScroll)return st({swiper:s,targetPosition:-g,side:h?"left":"top"}),!0;p.scrollTo({[h?"left":"top"]:-g,behavior:"smooth"})}return!0}return n===0?(s.setTransition(0),s.setTranslate(g),e&&(s.emit("beforeTransitionStart",n,r),s.emit("transitionEnd"))):(s.setTransition(n),s.setTranslate(g),e&&(s.emit("beforeTransitionStart",n,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(x){!s||s.destroyed||x.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,e&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var fr={getTranslate:dr,setTranslate:pr,minTranslate:cr,maxTranslate:mr,translateTo:ur};function gr(t,n){let e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${t}ms`,e.wrapperEl.style.transitionDelay=t===0?"0ms":""),e.emit("setTransition",t,n)}function ui(t){let{swiper:n,runCallbacks:e,direction:i,step:r}=t,{activeIndex:s,previousIndex:d}=n,p=i;p||(s>d?p="next":s<d?p="prev":p="reset"),n.emit(`transition${r}`),e&&p==="reset"?n.emit(`slideResetTransition${r}`):e&&s!==d&&(n.emit(`slideChangeTransition${r}`),p==="next"?n.emit(`slideNextTransition${r}`):n.emit(`slidePrevTransition${r}`))}function hr(t,n){t===void 0&&(t=!0);let e=this,{params:i}=e;i.cssMode||(i.autoHeight&&e.updateAutoHeight(),ui({swiper:e,runCallbacks:t,direction:n,step:"Start"}))}function xr(t,n){t===void 0&&(t=!0);let e=this,{params:i}=e;e.animating=!1,!i.cssMode&&(e.setTransition(0),ui({swiper:e,runCallbacks:t,direction:n,step:"End"}))}var wr={setTransition:gr,transitionStart:hr,transitionEnd:xr};function br(t,n,e,i,r){t===void 0&&(t=0),e===void 0&&(e=!0),typeof t=="string"&&(t=parseInt(t,10));let s=this,d=t;d<0&&(d=0);let{params:p,snapGrid:c,slidesGrid:m,previousIndex:g,activeIndex:h,rtlTranslate:x,wrapperEl:b,enabled:y}=s;if(!y&&!i&&!r||s.destroyed||s.animating&&p.preventInteractionOnTransition)return!1;typeof n>"u"&&(n=s.params.speed);let E=Math.min(s.params.slidesPerGroupSkip,d),N=E+Math.floor((d-E)/s.params.slidesPerGroup);N>=c.length&&(N=c.length-1);let S=-c[N];if(p.normalizeSlideIndex)for(let V=0;V<m.length;V+=1){let D=-Math.floor(S*100),ne=Math.floor(m[V]*100),T=Math.floor(m[V+1]*100);typeof m[V+1]<"u"?D>=ne&&D<T-(T-ne)/2?d=V:D>=ne&&D<T&&(d=V+1):D>=ne&&(d=V)}if(s.initialized&&d!==h&&(!s.allowSlideNext&&(x?S>s.translate&&S>s.minTranslate():S<s.translate&&S<s.minTranslate())||!s.allowSlidePrev&&S>s.translate&&S>s.maxTranslate()&&(h||0)!==d))return!1;d!==(g||0)&&e&&s.emit("beforeSlideChangeStart"),s.updateProgress(S);let I;d>h?I="next":d<h?I="prev":I="reset";let _=s.virtual&&s.params.virtual.enabled;if(!(_&&r)&&(x&&-S===s.translate||!x&&S===s.translate))return s.updateActiveIndex(d),p.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),p.effect!=="slide"&&s.setTranslate(S),I!=="reset"&&(s.transitionStart(e,I),s.transitionEnd(e,I)),!1;if(p.cssMode){let V=s.isHorizontal(),D=x?S:-S;if(n===0)_&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),_&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{b[V?"scrollLeft":"scrollTop"]=D})):b[V?"scrollLeft":"scrollTop"]=D,_&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return st({swiper:s,targetPosition:D,side:V?"left":"top"}),!0;b.scrollTo({[V?"left":"top"]:D,behavior:"smooth"})}return!0}let L=mi().isSafari;return _&&!r&&L&&s.isElement&&s.virtual.update(!1,!1,d),s.setTransition(n),s.setTranslate(S),s.updateActiveIndex(d),s.updateSlidesClasses(),s.emit("beforeTransitionStart",n,i),s.transitionStart(e,I),n===0?s.transitionEnd(e,I):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(D){!s||s.destroyed||D.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(e,I))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function yr(t,n,e,i){t===void 0&&(t=0),e===void 0&&(e=!0),typeof t=="string"&&(t=parseInt(t,10));let r=this;if(r.destroyed)return;typeof n>"u"&&(n=r.params.speed);let s=r.grid&&r.params.grid&&r.params.grid.rows>1,d=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)d=d+r.virtual.slidesBefore;else{let p;if(s){let x=d*r.params.grid.rows;p=r.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===x).column}else p=r.getSlideIndexByData(d);let c=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:m}=r.params,g=r.params.slidesPerView;g==="auto"?g=r.slidesPerViewDynamic():(g=Math.ceil(parseFloat(r.params.slidesPerView,10)),m&&g%2===0&&(g=g+1));let h=c-p<g;if(m&&(h=h||p<Math.ceil(g/2)),i&&m&&r.params.slidesPerView!=="auto"&&!s&&(h=!1),h){let x=m?p<r.activeIndex?"prev":"next":p-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:x,slideTo:!0,activeSlideIndex:x==="next"?p+1:p-c+1,slideRealIndex:x==="next"?r.realIndex:void 0})}if(s){let x=d*r.params.grid.rows;d=r.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===x).column}else d=r.getSlideIndexByData(d)}return requestAnimationFrame(()=>{r.slideTo(d,n,e,i)}),r}function vr(t,n,e){n===void 0&&(n=!0);let i=this,{enabled:r,params:s,animating:d}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let p=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(p=Math.max(i.slidesPerViewDynamic("current",!0),1));let c=i.activeIndex<s.slidesPerGroupSkip?1:p,m=i.virtual&&s.virtual.enabled;if(s.loop){if(d&&!m&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+c,t,n,e)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,n,e):i.slideTo(i.activeIndex+c,t,n,e)}function Sr(t,n,e){n===void 0&&(n=!0);let i=this,{params:r,snapGrid:s,slidesGrid:d,rtlTranslate:p,enabled:c,animating:m}=i;if(!c||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let g=i.virtual&&r.virtual.enabled;if(r.loop){if(m&&!g&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}let h=p?i.translate:-i.translate;function x(I){return I<0?-Math.floor(Math.abs(I)):Math.floor(I)}let b=x(h),y=s.map(I=>x(I)),E=r.freeMode&&r.freeMode.enabled,N=s[y.indexOf(b)-1];if(typeof N>"u"&&(r.cssMode||E)){let I;s.forEach((_,O)=>{b>=_&&(I=O)}),typeof I<"u"&&(N=E?s[I]:s[I>0?I-1:I])}let S=0;if(typeof N<"u"&&(S=d.indexOf(N),S<0&&(S=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(S=S-i.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),r.rewind&&i.isBeginning){let I=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(I,t,n,e)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(S,t,n,e)}),!0;return i.slideTo(S,t,n,e)}function _r(t,n,e){n===void 0&&(n=!0);let i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,n,e)}function Cr(t,n,e,i){n===void 0&&(n=!0),i===void 0&&(i=.5);let r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex,d=Math.min(r.params.slidesPerGroupSkip,s),p=d+Math.floor((s-d)/r.params.slidesPerGroup),c=r.rtlTranslate?r.translate:-r.translate;if(c>=r.snapGrid[p]){let m=r.snapGrid[p],g=r.snapGrid[p+1];c-m>(g-m)*i&&(s+=r.params.slidesPerGroup)}else{let m=r.snapGrid[p-1],g=r.snapGrid[p];c-m<=(g-m)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,n,e)}function Er(){let t=this;if(t.destroyed)return;let{params:n,slidesEl:e}=t,i=n.slidesPerView==="auto"?t.slidesPerViewDynamic():n.slidesPerView,r=t.getSlideIndexWhenGrid(t.clickedIndex),s,d=t.isElement?"swiper-slide":`.${n.slideClass}`,p=t.grid&&t.params.grid&&t.params.grid.rows>1;if(n.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),n.centeredSlides?t.slideToLoop(s):r>(p?(t.slides.length-i)/2-(t.params.grid.rows-1):t.slides.length-i)?(t.loopFix(),r=t.getSlideIndex(ve(e,`${d}[data-swiper-slide-index="${s}"]`)[0]),ot(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var Tr={slideTo:br,slideToLoop:yr,slideNext:vr,slidePrev:Sr,slideReset:_r,slideToClosest:Cr,slideToClickedSlide:Er};function kr(t,n){let e=this,{params:i,slidesEl:r}=e;if(!i.loop||e.virtual&&e.params.virtual.enabled)return;let s=()=>{ve(r,`.${i.slideClass}, swiper-slide`).forEach((b,y)=>{b.setAttribute("data-swiper-slide-index",y)})},d=()=>{let x=ve(r,`.${i.slideBlankClass}`);x.forEach(b=>{b.remove()}),x.length>0&&(e.recalcSlides(),e.updateSlides())},p=e.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||p)&&d();let c=i.slidesPerGroup*(p?i.grid.rows:1),m=e.slides.length%c!==0,g=p&&e.slides.length%i.grid.rows!==0,h=x=>{for(let b=0;b<x;b+=1){let y=e.isElement?Ke("swiper-slide",[i.slideBlankClass]):Ke("div",[i.slideClass,i.slideBlankClass]);e.slidesEl.append(y)}};if(m){if(i.loopAddBlankSlides){let x=c-e.slides.length%c;h(x),e.recalcSlides(),e.updateSlides()}else Be("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(g){if(i.loopAddBlankSlides){let x=i.grid.rows-e.slides.length%i.grid.rows;h(x),e.recalcSlides(),e.updateSlides()}else Be("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next",initial:n})}function Ir(t){let{slideRealIndex:n,slideTo:e=!0,direction:i,setTranslate:r,activeSlideIndex:s,initial:d,byController:p,byMousewheel:c}=t===void 0?{}:t,m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");let{slides:g,allowSlidePrev:h,allowSlideNext:x,slidesEl:b,params:y}=m,{centeredSlides:E,initialSlide:N}=y;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&y.virtual.enabled){e&&(!y.centeredSlides&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):y.centeredSlides&&m.snapIndex<y.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=h,m.allowSlideNext=x,m.emit("loopFix");return}let S=y.slidesPerView;S==="auto"?S=m.slidesPerViewDynamic():(S=Math.ceil(parseFloat(y.slidesPerView,10)),E&&S%2===0&&(S=S+1));let I=y.slidesPerGroupAuto?S:y.slidesPerGroup,_=E?Math.max(I,Math.ceil(S/2)):I;_%I!==0&&(_+=I-_%I),_+=y.loopAdditionalSlides,m.loopedSlides=_;let O=m.grid&&y.grid&&y.grid.rows>1;g.length<S+_||m.params.effect==="cards"&&g.length<S+_*2?Be("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):O&&y.grid.fill==="row"&&Be("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let A=[],L=[],V=O?Math.ceil(g.length/y.grid.rows):g.length,D=d&&V-N<S&&!E,ne=D?N:m.activeIndex;typeof s>"u"?s=m.getSlideIndex(g.find(R=>R.classList.contains(y.slideActiveClass))):ne=s;let T=i==="next"||!i,F=i==="prev"||!i,j=0,Z=0,ke=(O?g[s].column:s)+(E&&typeof r>"u"?-S/2+.5:0);if(ke<_){j=Math.max(_-ke,I);for(let R=0;R<_-ke;R+=1){let ee=R-Math.floor(R/V)*V;if(O){let oe=V-ee-1;for(let Se=g.length-1;Se>=0;Se-=1)g[Se].column===oe&&A.push(Se)}else A.push(V-ee-1)}}else if(ke+S>V-_){Z=Math.max(ke-(V-_*2),I),D&&(Z=Math.max(Z,S-V+N+1));for(let R=0;R<Z;R+=1){let ee=R-Math.floor(R/V)*V;O?g.forEach((oe,Se)=>{oe.column===ee&&L.push(Se)}):L.push(ee)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&g.length<S+_*2&&(L.includes(s)&&L.splice(L.indexOf(s),1),A.includes(s)&&A.splice(A.indexOf(s),1)),F&&A.forEach(R=>{g[R].swiperLoopMoveDOM=!0,b.prepend(g[R]),g[R].swiperLoopMoveDOM=!1}),T&&L.forEach(R=>{g[R].swiperLoopMoveDOM=!0,b.append(g[R]),g[R].swiperLoopMoveDOM=!1}),m.recalcSlides(),y.slidesPerView==="auto"?m.updateSlides():O&&(A.length>0&&F||L.length>0&&T)&&m.slides.forEach((R,ee)=>{m.grid.updateSlide(ee,R,m.slides)}),y.watchSlidesProgress&&m.updateSlidesOffset(),e){if(A.length>0&&F){if(typeof n>"u"){let R=m.slidesGrid[ne],oe=m.slidesGrid[ne+j]-R;c?m.setTranslate(m.translate-oe):(m.slideTo(ne+Math.ceil(j),0,!1,!0),r&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-oe,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-oe))}else if(r){let R=O?A.length/y.grid.rows:A.length;m.slideTo(m.activeIndex+R,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(L.length>0&&T)if(typeof n>"u"){let R=m.slidesGrid[ne],oe=m.slidesGrid[ne-Z]-R;c?m.setTranslate(m.translate-oe):(m.slideTo(ne-Z,0,!1,!0),r&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-oe,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-oe))}else{let R=O?L.length/y.grid.rows:L.length;m.slideTo(m.activeIndex-R,0,!1,!0)}}if(m.allowSlidePrev=h,m.allowSlideNext=x,m.controller&&m.controller.control&&!p){let R={slideRealIndex:n,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach(ee=>{!ee.destroyed&&ee.params.loop&&ee.loopFix(Le(Oe({},R),{slideTo:ee.params.slidesPerView===y.slidesPerView?e:!1}))}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix(Le(Oe({},R),{slideTo:m.controller.control.params.slidesPerView===y.slidesPerView?e:!1}))}m.emit("loopFix")}function Mr(){let t=this,{params:n,slidesEl:e}=t;if(!n.loop||!e||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();let i=[];t.slides.forEach(r=>{let s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{e.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Pr={loopCreate:kr,loopFix:Ir,loopDestroy:Mr};function Ar(t){let n=this;if(!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;let e=n.params.touchEventsTarget==="container"?n.el:n.wrapperEl;n.isElement&&(n.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=t?"grabbing":"grab",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1})}function Fr(){let t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Or={setGrabCursor:Ar,unsetGrabCursor:Fr};function Lr(t,n){n===void 0&&(n=this);function e(i){if(!i||i===Ce()||i===J())return null;i.assignedSlot&&(i=i.assignedSlot);let r=i.closest(t);return!r&&!i.getRootNode?null:r||e(i.getRootNode().host)}return e(n)}function si(t,n,e){let i=J(),{params:r}=t,s=r.edgeSwipeDetection,d=r.edgeSwipeThreshold;return s&&(e<=d||e>=i.innerWidth-d)?s==="prevent"?(n.preventDefault(),!0):!1:!0}function Dr(t){let n=this,e=Ce(),i=t;i.originalEvent&&(i=i.originalEvent);let r=n.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){si(n,i,i.targetTouches[0].pageX);return}let{params:s,touches:d,enabled:p}=n;if(!p||!s.simulateTouch&&i.pointerType==="mouse"||n.animating&&s.preventInteractionOnTransition)return;!n.animating&&s.cssMode&&s.loop&&n.loopFix();let c=i.target;if(s.touchEventsTarget==="wrapper"&&!ti(c,n.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;let m=!!s.noSwipingClass&&s.noSwipingClass!=="",g=i.composedPath?i.composedPath():i.path;m&&i.target&&i.target.shadowRoot&&g&&(c=g[0]);let h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,x=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(x?Lr(h,c):c.closest(h))){n.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;d.currentX=i.pageX,d.currentY=i.pageY;let b=d.currentX,y=d.currentY;if(!si(n,i,b))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=b,d.startY=y,r.touchStartTime=je(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let E=!0;c.matches(r.focusableElements)&&(E=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!c.matches(r.focusableElements))&&e.activeElement.blur();let N=E&&n.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||N)&&!c.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.animating&&!s.cssMode&&n.freeMode.onTouchStart(),n.emit("touchStart",i)}function zr(t){let n=Ce(),e=this,i=e.touchEventsData,{params:r,touches:s,rtlTranslate:d,enabled:p}=e;if(!p||!r.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(i.touchId!==null||c.pointerId!==i.pointerId))return;let m;if(c.type==="touchmove"){if(m=[...c.changedTouches].find(L=>L.identifier===i.touchId),!m||m.identifier!==i.touchId)return}else m=c;if(!i.isTouched){i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",c);return}let g=m.pageX,h=m.pageY;if(c.preventedByNestedSwiper){s.startX=g,s.startY=h;return}if(!e.allowTouchMove){c.target.matches(i.focusableElements)||(e.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:g,startY:h,currentX:g,currentY:h}),i.touchStartTime=je());return}if(r.touchReleaseOnEdges&&!r.loop)if(e.isVertical()){if(h<s.startY&&e.translate<=e.maxTranslate()||h>s.startY&&e.translate>=e.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(d&&(g>s.startX&&-e.translate<=e.maxTranslate()||g<s.startX&&-e.translate>=e.minTranslate()))return;if(!d&&(g<s.startX&&e.translate<=e.maxTranslate()||g>s.startX&&e.translate>=e.minTranslate()))return}if(n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c.target&&c.pointerType!=="mouse"&&n.activeElement.blur(),n.activeElement&&c.target===n.activeElement&&c.target.matches(i.focusableElements)){i.isMoved=!0,e.allowClick=!1;return}i.allowTouchCallbacks&&e.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=g,s.currentY=h;let x=s.currentX-s.startX,b=s.currentY-s.startY;if(e.params.threshold&&Math.sqrt(x**2+b**2)<e.params.threshold)return;if(typeof i.isScrolling>"u"){let L;e.isHorizontal()&&s.currentY===s.startY||e.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:x*x+b*b>=25&&(L=Math.atan2(Math.abs(b),Math.abs(x))*180/Math.PI,i.isScrolling=e.isHorizontal()?L>r.touchAngle:90-L>r.touchAngle)}if(i.isScrolling&&e.emit("touchMoveOpposite",c),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||c.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;e.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let y=e.isHorizontal()?x:b,E=e.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(y=Math.abs(y)*(d?1:-1),E=Math.abs(E)*(d?1:-1)),s.diff=y,y*=r.touchRatio,d&&(y=-y,E=-E);let N=e.touchesDirection;e.swipeDirection=y>0?"prev":"next",e.touchesDirection=E>0?"prev":"next";let S=e.params.loop&&!r.cssMode,I=e.touchesDirection==="next"&&e.allowSlideNext||e.touchesDirection==="prev"&&e.allowSlidePrev;if(!i.isMoved){if(S&&I&&e.loopFix({direction:e.swipeDirection}),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){let L=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});e.wrapperEl.dispatchEvent(L)}i.allowMomentumBounce=!1,r.grabCursor&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",c)}let _;if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&N!==e.touchesDirection&&S&&I&&Math.abs(y)>=1){Object.assign(s,{startX:g,startY:h,currentX:g,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}e.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let O=!0,A=r.resistanceRatio;if(r.touchReleaseOnEdges&&(A=0),y>0?(S&&I&&!_&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?e.minTranslate()-e.slidesSizesGrid[e.activeIndex+1]-(r.slidesPerView!=="auto"&&e.slides.length-r.slidesPerView>=2?e.slidesSizesGrid[e.activeIndex+1]+e.params.spaceBetween:0)-e.params.spaceBetween:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>e.minTranslate()&&(O=!1,r.resistance&&(i.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+i.startTranslate+y)**A))):y<0&&(S&&I&&!_&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?e.maxTranslate()+e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween+(r.slidesPerView!=="auto"&&e.slides.length-r.slidesPerView>=2?e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween:0):e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-(r.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<e.maxTranslate()&&(O=!1,r.resistance&&(i.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-i.startTranslate-y)**A))),O&&(c.preventedByNestedSwiper=!0),!e.allowSlideNext&&e.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&e.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(y)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=e.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&e.freeMode||r.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}function Nr(t){let n=this,e=n.touchEventsData,i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(A=>A.identifier===e.touchId),!r||r.identifier!==e.touchId)return}else{if(e.touchId!==null||i.pointerId!==e.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(n.browser.isSafari||n.browser.isWebView)))return;e.pointerId=null,e.touchId=null;let{params:d,touches:p,rtlTranslate:c,slidesGrid:m,enabled:g}=n;if(!g||!d.simulateTouch&&i.pointerType==="mouse")return;if(e.allowTouchCallbacks&&n.emit("touchEnd",i),e.allowTouchCallbacks=!1,!e.isTouched){e.isMoved&&d.grabCursor&&n.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1;return}d.grabCursor&&e.isMoved&&e.isTouched&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!1);let h=je(),x=h-e.touchStartTime;if(n.allowClick){let A=i.path||i.composedPath&&i.composedPath();n.updateClickedSlide(A&&A[0]||i.target,A),n.emit("tap click",i),x<300&&h-e.lastClickTime<300&&n.emit("doubleTap doubleClick",i)}if(e.lastClickTime=je(),ot(()=>{n.destroyed||(n.allowClick=!0)}),!e.isTouched||!e.isMoved||!n.swipeDirection||p.diff===0&&!e.loopSwapReset||e.currentTranslate===e.startTranslate&&!e.loopSwapReset){e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;return}e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;let b;if(d.followFinger?b=c?n.translate:-n.translate:b=-e.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){n.freeMode.onTouchEnd({currentPos:b});return}let y=b>=-n.maxTranslate()&&!n.params.loop,E=0,N=n.slidesSizesGrid[0];for(let A=0;A<m.length;A+=A<d.slidesPerGroupSkip?1:d.slidesPerGroup){let L=A<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof m[A+L]<"u"?(y||b>=m[A]&&b<m[A+L])&&(E=A,N=m[A+L]-m[A]):(y||b>=m[A])&&(E=A,N=m[m.length-1]-m[m.length-2])}let S=null,I=null;d.rewind&&(n.isBeginning?I=d.virtual&&d.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1:n.isEnd&&(S=0));let _=(b-m[E])/N,O=E<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(x>d.longSwipesMs){if(!d.longSwipes){n.slideTo(n.activeIndex);return}n.swipeDirection==="next"&&(_>=d.longSwipesRatio?n.slideTo(d.rewind&&n.isEnd?S:E+O):n.slideTo(E)),n.swipeDirection==="prev"&&(_>1-d.longSwipesRatio?n.slideTo(E+O):I!==null&&_<0&&Math.abs(_)>d.longSwipesRatio?n.slideTo(I):n.slideTo(E))}else{if(!d.shortSwipes){n.slideTo(n.activeIndex);return}n.navigation&&(i.target===n.navigation.nextEl||i.target===n.navigation.prevEl)?i.target===n.navigation.nextEl?n.slideTo(E+O):n.slideTo(E):(n.swipeDirection==="next"&&n.slideTo(S!==null?S:E+O),n.swipeDirection==="prev"&&n.slideTo(I!==null?I:E))}}function ai(){let t=this,{params:n,el:e}=t;if(e&&e.offsetWidth===0)return;n.breakpoints&&t.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,d=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();let p=d&&n.loop;(n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!p?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!d?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Rr(t){let n=this;n.enabled&&(n.allowClick||(n.params.preventClicks&&t.preventDefault(),n.params.preventClicksPropagation&&n.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function jr(){let t=this,{wrapperEl:n,rtlTranslate:e,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-n.scrollLeft:t.translate=-n.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r,s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(e?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Vr(t){let n=this;Ze(n,t.target),!(n.params.cssMode||n.params.slidesPerView!=="auto"&&!n.params.autoHeight)&&n.update()}function Br(){let t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}var fi=(t,n)=>{let e=Ce(),{params:i,el:r,wrapperEl:s,device:d}=t,p=!!i.nested,c=n==="on"?"addEventListener":"removeEventListener",m=n;!r||typeof r=="string"||(e[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:p}),r[c]("touchstart",t.onTouchStart,{passive:!1}),r[c]("pointerdown",t.onTouchStart,{passive:!1}),e[c]("touchmove",t.onTouchMove,{passive:!1,capture:p}),e[c]("pointermove",t.onTouchMove,{passive:!1,capture:p}),e[c]("touchend",t.onTouchEnd,{passive:!0}),e[c]("pointerup",t.onTouchEnd,{passive:!0}),e[c]("pointercancel",t.onTouchEnd,{passive:!0}),e[c]("touchcancel",t.onTouchEnd,{passive:!0}),e[c]("pointerout",t.onTouchEnd,{passive:!0}),e[c]("pointerleave",t.onTouchEnd,{passive:!0}),e[c]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[c]("click",t.onClick,!0),i.cssMode&&s[c]("scroll",t.onScroll),i.updateOnWindowResize?t[m](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",ai,!0):t[m]("observerUpdate",ai,!0),r[c]("load",t.onLoad,{capture:!0}))};function Gr(){let t=this,{params:n}=t;t.onTouchStart=Dr.bind(t),t.onTouchMove=zr.bind(t),t.onTouchEnd=Nr.bind(t),t.onDocumentTouchStart=Br.bind(t),n.cssMode&&(t.onScroll=jr.bind(t)),t.onClick=Rr.bind(t),t.onLoad=Vr.bind(t),fi(t,"on")}function Hr(){fi(this,"off")}var $r={attachEvents:Gr,detachEvents:Hr},li=(t,n)=>t.grid&&n.grid&&n.grid.rows>1;function Ur(){let t=this,{realIndex:n,initialized:e,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;let d=Ce(),p=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",c=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:d.querySelector(i.breakpointsBase),m=t.getBreakpoint(s,p,c);if(!m||t.currentBreakpoint===m)return;let h=(m in s?s[m]:void 0)||t.originalParams,x=li(t,i),b=li(t,h),y=t.params.grabCursor,E=h.grabCursor,N=i.enabled;x&&!b?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!x&&b&&(r.classList.add(`${i.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!E?t.unsetGrabCursor():!y&&E&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(L=>{if(typeof h[L]>"u")return;let V=i[L]&&i[L].enabled,D=h[L]&&h[L].enabled;V&&!D&&t[L].disable(),!V&&D&&t[L].enable()});let S=h.direction&&h.direction!==i.direction,I=i.loop&&(h.slidesPerView!==i.slidesPerView||S),_=i.loop;S&&e&&t.changeDirection(),de(t.params,h);let O=t.params.enabled,A=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),N&&!O?t.disable():!N&&O&&t.enable(),t.currentBreakpoint=m,t.emit("_beforeBreakpoint",h),e&&(I?(t.loopDestroy(),t.loopCreate(n),t.updateSlides()):!_&&A?(t.loopCreate(n),t.updateSlides()):_&&!A&&t.loopDestroy()),t.emit("breakpoint",h)}function Yr(t,n,e){if(n===void 0&&(n="window"),!t||n==="container"&&!e)return;let i=!1,r=J(),s=n==="window"?r.innerHeight:e.clientHeight,d=Object.keys(t).map(p=>{if(typeof p=="string"&&p.indexOf("@")===0){let c=parseFloat(p.substr(1));return{value:s*c,point:p}}return{value:p,point:p}});d.sort((p,c)=>parseInt(p.value,10)-parseInt(c.value,10));for(let p=0;p<d.length;p+=1){let{point:c,value:m}=d[p];n==="window"?r.matchMedia(`(min-width: ${m}px)`).matches&&(i=c):m<=e.clientWidth&&(i=c)}return i||"max"}var Wr={setBreakpoint:Ur,getBreakpoint:Yr};function qr(t,n){let e=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&e.push(n+r)}):typeof i=="string"&&e.push(n+i)}),e}function Xr(){let t=this,{classNames:n,params:e,rtl:i,el:r,device:s}=t,d=qr(["initialized",e.direction,{"free-mode":t.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&e.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);n.push(...d),r.classList.add(...n),t.emitContainerClasses()}function Qr(){let t=this,{el:n,classNames:e}=t;!n||typeof n=="string"||(n.classList.remove(...e),t.emitContainerClasses())}var Kr={addClasses:Xr,removeClasses:Qr};function Zr(){let t=this,{isLocked:n,params:e}=t,{slidesOffsetBefore:i}=e;if(i){let r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;e.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),e.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),n&&n!==t.isLocked&&(t.isEnd=!1),n!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Jr={checkOverflow:Zr},di={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function en(t,n){return function(i){i===void 0&&(i={});let r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){de(n,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){de(n,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),de(n,i)}}var ft={eventsEmitter:Ki,update:lr,translate:fr,transition:wr,slide:Tr,loop:Pr,grabCursor:Or,events:$r,breakpoints:Wr,checkOverflow:Jr,classes:Kr},gt={},Me=class t{constructor(){let n,e;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?e=r[0]:[n,e]=r,e||(e={}),e=de({},e),n&&!e.el&&(e.el=n);let d=Ce();if(e.el&&typeof e.el=="string"&&d.querySelectorAll(e.el).length>1){let g=[];return d.querySelectorAll(e.el).forEach(h=>{let x=de({},e,{el:h});g.push(new t(x))}),g}let p=this;p.__swiper__=!0,p.support=pi(),p.device=ci({userAgent:e.userAgent}),p.browser=mi(),p.eventsListeners={},p.eventsAnyListeners=[],p.modules=[...p.__modules__],e.modules&&Array.isArray(e.modules)&&p.modules.push(...e.modules);let c={};p.modules.forEach(g=>{g({params:e,swiper:p,extendParams:en(e,c),on:p.on.bind(p),once:p.once.bind(p),off:p.off.bind(p),emit:p.emit.bind(p)})});let m=de({},di,c);return p.params=de({},m,gt,e),p.originalParams=de({},p.params),p.passedParams=de({},e),p.params&&p.params.on&&Object.keys(p.params.on).forEach(g=>{p.on(g,p.params.on[g])}),p.params&&p.params.onAny&&p.onAny(p.params.onAny),Object.assign(p,{enabled:p.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return p.params.direction==="horizontal"},isVertical(){return p.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:p.params.allowSlideNext,allowSlidePrev:p.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:p.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:p.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),p.emit("_swiper"),p.params.init&&p.init(),p}getDirectionLabel(n){return this.isHorizontal()?n:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[n]}getSlideIndex(n){let{slidesEl:e,params:i}=this,r=ve(e,`.${i.slideClass}, swiper-slide`),s=at(r[0]);return at(n)-s}getSlideIndexByData(n){return this.getSlideIndex(this.slides.find(e=>e.getAttribute("data-swiper-slide-index")*1===n))}getSlideIndexWhenGrid(n){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?n=Math.floor(n/this.params.grid.rows):this.params.grid.fill==="row"&&(n=n%Math.ceil(this.slides.length/this.params.grid.rows))),n}recalcSlides(){let n=this,{slidesEl:e,params:i}=n;n.slides=ve(e,`.${i.slideClass}, swiper-slide`)}enable(){let n=this;n.enabled||(n.enabled=!0,n.params.grabCursor&&n.setGrabCursor(),n.emit("enable"))}disable(){let n=this;n.enabled&&(n.enabled=!1,n.params.grabCursor&&n.unsetGrabCursor(),n.emit("disable"))}setProgress(n,e){let i=this;n=Math.min(Math.max(n,0),1);let r=i.minTranslate(),d=(i.maxTranslate()-r)*n+r;i.translateTo(d,typeof e>"u"?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let n=this;if(!n.params._emitClasses||!n.el)return;let e=n.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(n.params.containerModifierClass)===0);n.emit("_containerClasses",e.join(" "))}getSlideClasses(n){let e=this;return e.destroyed?"":n.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(e.params.slideClass)===0).join(" ")}emitSlidesClasses(){let n=this;if(!n.params._emitClasses||!n.el)return;let e=[];n.slides.forEach(i=>{let r=n.getSlideClasses(i);e.push({slideEl:i,classNames:r}),n.emit("_slideClass",i,r)}),n.emit("_slideClasses",e)}slidesPerViewDynamic(n,e){n===void 0&&(n="current"),e===void 0&&(e=!1);let i=this,{params:r,slides:s,slidesGrid:d,slidesSizesGrid:p,size:c,activeIndex:m}=i,g=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let h=s[m]?Math.ceil(s[m].swiperSlideSize):0,x;for(let b=m+1;b<s.length;b+=1)s[b]&&!x&&(h+=Math.ceil(s[b].swiperSlideSize),g+=1,h>c&&(x=!0));for(let b=m-1;b>=0;b-=1)s[b]&&!x&&(h+=s[b].swiperSlideSize,g+=1,h>c&&(x=!0))}else if(n==="current")for(let h=m+1;h<s.length;h+=1)(e?d[h]+p[h]-d[m]<c:d[h]-d[m]<c)&&(g+=1);else for(let h=m-1;h>=0;h-=1)d[m]-d[h]<c&&(g+=1);return g}update(){let n=this;if(!n||n.destroyed)return;let{snapGrid:e,params:i}=n;i.breakpoints&&n.setBreakpoint(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&Ze(n,d)}),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses();function r(){let d=n.rtlTranslate?n.translate*-1:n.translate,p=Math.min(Math.max(d,n.maxTranslate()),n.minTranslate());n.setTranslate(p),n.updateActiveIndex(),n.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&n.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&n.isEnd&&!i.centeredSlides){let d=n.virtual&&i.virtual.enabled?n.virtual.slides:n.slides;s=n.slideTo(d.length-1,0,!1,!0)}else s=n.slideTo(n.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&e!==n.snapGrid&&n.checkOverflow(),n.emit("update")}changeDirection(n,e){e===void 0&&(e=!0);let i=this,r=i.params.direction;return n||(n=r==="horizontal"?"vertical":"horizontal"),n===r||n!=="horizontal"&&n!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${n}`),i.emitContainerClasses(),i.params.direction=n,i.slides.forEach(s=>{n==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(n){let e=this;e.rtl&&n==="rtl"||!e.rtl&&n==="ltr"||(e.rtl=n==="rtl",e.rtlTranslate=e.params.direction==="horizontal"&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(n){let e=this;if(e.mounted)return!0;let i=n||e.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);let r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`,d=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):ve(i,r())[0];return!d&&e.params.createElements&&(d=Ke("div",e.params.wrapperClass),i.append(d),ve(i,`.${e.params.slideClass}`).forEach(p=>{d.append(p)})),Object.assign(e,{el:i,wrapperEl:d,slidesEl:e.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:d,hostEl:e.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ee(i,"direction")==="rtl",rtlTranslate:e.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ee(i,"direction")==="rtl"),wrongRTL:Ee(d,"display")==="-webkit-box"}),!0}init(n){let e=this;if(e.initialized||e.mount(n)===!1)return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(void 0,!0),e.attachEvents();let r=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&r.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Ze(e,s):s.addEventListener("load",d=>{Ze(e,d.target)})}),ht(e),e.initialized=!0,ht(e),e.emit("init"),e.emit("afterInit"),e}destroy(n,e){n===void 0&&(n=!0),e===void 0&&(e=!0);let i=this,{params:r,el:s,wrapperEl:d,slides:p}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),e&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),d&&d.removeAttribute("style"),p&&p.length&&p.forEach(c=>{c.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(c=>{i.off(c)}),n!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),Jt(i)),i.destroyed=!0),null}static extendDefaults(n){de(gt,n)}static get extendedDefaults(){return gt}static get defaults(){return di}static installModule(n){t.prototype.__modules__||(t.prototype.__modules__=[]);let e=t.prototype.__modules__;typeof n=="function"&&e.indexOf(n)<0&&e.push(n)}static use(n){return Array.isArray(n)?(n.forEach(e=>t.installModule(e)),t):(t.installModule(n),t)}};Object.keys(ft).forEach(t=>{Object.keys(ft[t]).forEach(n=>{Me.prototype[n]=ft[t][n]})});Me.use([Xi,Qi]);var gi=(()=>{class t{constructor(){this.courseImage=[{image:"images/01.jpg",name:"Koi Fish "},{image:"images/02.jpg",name:"Forestcore"},{image:"images/03.jpg",name:"Northern Lights"},{image:"images/04.jpg",name:"Vibrant Beach"},{image:"images/01.jpg",name:"Koi Fish "},{image:"images/02.jpg",name:"Forestcore"},{image:"images/03.jpg",name:"Northern Lights"},{image:"images/04.jpg",name:"Vibrant Beach"}]}ngOnInit(){setTimeout(()=>{let e=new Me(".swiper",{loop:!0,autoplay:{delay:1e3},navigation:{nextEl:".service-progress-button-next",prevEl:".service-progress-button-prev"},slidesPerView:1});console.log(e)},500)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=B({type:t,selectors:[["app-test"]],standalone:!0,features:[G],decls:18,vars:0,consts:[[1,"swiper"],[1,"swiper-wrapper"],[1,"swiper-slide"],[1,"swiper-pagination"],[1,"swiper-button-prev"],[1,"swiper-button-next"],[1,"swiper-scrollbar"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),l(3,"Slide 1"),a(),o(4,"div",2),l(5,"Slide 2"),a(),o(6,"div",2),l(7,"Slide 3"),a(),o(8,"div",2),l(9,"Slide 1"),a(),o(10,"div",2),l(11,"Slide 2"),a(),o(12,"div",2),l(13,"Slide 3"),a()(),f(14,"div",3)(15,"div",4)(16,"div",5)(17,"div",6),a())},dependencies:[H]})}}return t})();function tn(t,n){t&1&&(o(0,"button",7),l(1,"Save"),a())}var hi=(()=>{class t{constructor(e,i,r,s,d){this.contentService=e,this.fb=i,this.router=r,this.route=s,this.cd=d,this.storyId=null,this.isReadOnly=!1,this.storyForm=this.fb.group({story_title:["",Y.required]})}ngOnInit(){if(!sessionStorage.getItem("userId")){this.router.navigate(["login"]);return}this.route.queryParams.subscribe(i=>{i.storyId&&(this.storyId=parseInt(i.storyId,10),this.loadStory())})}loadStory(){this.storyId&&this.contentService.getStoryById(this.storyId).subscribe({next:e=>{e.status==="success"&&e.data&&(this.storyForm.patchValue({story_title:e.data.title||""}),this.isReadOnly=e.data.status===1)},error:e=>console.error("Error loading story:",e)})}onSubmit(){let e=sessionStorage.getItem("userId"),i=this.storyForm.get("story_title")?.value.trim();if(!i){alert("\u26A0 Story title cannot be empty");return}if(this.storyId){let r=new FormData;r.append("story_id",String(this.storyId)),r.append("story_title",i),this.contentService.updateStory(r).subscribe({next:()=>{alert("Story updated successfully!"),this.router.navigate(["/create"])},error:s=>console.error("\u274C Error updating:",s)})}else{let r=new FormData;r.append("user_id",e||""),r.append("story_title",i),this.contentService.createStory(r).subscribe({next:()=>{alert("Story added successfully!"),this.router.navigate(["/creat"])},error:s=>console.error("\u274C Error adding:",s)})}}static{this.\u0275fac=function(i){return new(i||t)(P(qe),P(xe),P(Q),P(ie),P(Ft))}}static{this.\u0275cmp=B({type:t,selectors:[["app-storytitle"]],standalone:!0,features:[G],decls:8,vars:3,consts:[[1,"container"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"form-group","col-sm-12","mt-3","mb-3","text-end"],["type","submit","class","btn btn-primary",4,"ngIf"],[1,"form-group","mb-4","col-sm-12"],["formControlName","story_title","placeholder","Enter story title",1,"form-control",3,"readonly"],["type","submit",1,"btn","btn-primary"]],template:function(i,r){i&1&&(f(0,"app-header"),o(1,"div",0)(2,"form",1),k("ngSubmit",function(){return r.onSubmit()}),o(3,"div",2)(4,"div",3),v(5,tn,2,0,"button",4),a(),o(6,"div",5),f(7,"input",6),a()()()()),i&2&&(u(2),w("formGroup",r.storyForm),u(3),w("ngIf",!r.isReadOnly),u(2),w("readonly",r.isReadOnly))},dependencies:[H,q,we,me,ae,le,ce,ue,ge,he,K,He]})}}return t})();function rn(t,n){if(t&1&&(o(0,"div",55),f(1,"img",56),a()),t&2){let e=C();u(),w("src",e.imagePreview,fe)}}function nn(t,n){if(t&1){let e=W();o(0,"span",57),l(1),o(2,"button",58),k("click",function(){let r=$(e).index,s=C();return U(s.removeTag(r))}),a()()}if(t&2){let e=n.$implicit;u(),z(" ",e," ")}}var xi=(()=>{class t{constructor(e,i,r,s){this.fb=e,this.router=i,this.route=r,this.http=s,this.storyId=null,this.isReadOnly=!1,this.tagsList=[],this.selectedFile=null,this.imagePreview=null,this.storyForm=this.fb.group({story_title:["",Y.required],story_description:[""],tagsInput:[""],tags:[""],copyright:[""],audiences:[""],language:[""],category:[""]})}ngOnInit(){let e=sessionStorage.getItem("userId");if(!e||e==="null"){this.router.navigate(["login"]);return}}onTagsKeyUp(e){(e.key===","||e.key==="Enter")&&(e.preventDefault(),this.addTag())}onFileSelected(e){let i=e.target.files[0];this.handleFile(i)}onFileDropped(e){e.preventDefault();let i=e.dataTransfer?.files[0];i&&this.handleFile(i)}handleFile(e){if(e&&e.size<=1024*1024){this.selectedFile=e;let i=new FileReader;i.onload=()=>{this.imagePreview=i.result},i.readAsDataURL(e)}else alert("File size must be 1MB or less.")}onDragOver(e){e.preventDefault()}addTag(){let e=this.storyForm.get("tagsInput")?.value.trim();e&&(e.split(",").map(r=>r.trim()).filter(r=>r.length>0).forEach(r=>{this.tagsList.includes(r)||this.tagsList.push(r)}),this.storyForm.get("tags")?.setValue(this.tagsList.join(",")),this.storyForm.get("tagsInput")?.setValue(""))}removeTag(e){this.tagsList.splice(e,1),this.storyForm.get("tags")?.setValue(this.tagsList.join(","))}onSubmit(){if(this.storyForm.valid){let e=new FormData;e.append("story_title",this.storyForm.get("story_title")?.value),e.append("story_description",this.storyForm.get("story_description")?.value),e.append("tags",this.storyForm.get("tags")?.value),e.append("copyright",this.storyForm.get("copyright")?.value),e.append("audiences",this.storyForm.get("audiences")?.value),e.append("language",this.storyForm.get("language")?.value),e.append("category",this.storyForm.get("category")?.value),this.selectedFile&&e.append("cover_image",this.selectedFile);let i=sessionStorage.getItem("userId")??"0";e.append("user_id",i),this.http.post("https://hyperblah.com/funtelapi/save_story.php",e,{withCredentials:!1}).subscribe({next:r=>{console.log(r),r.status==="success"&&r.story_id?this.router.navigate(["/creat",r.story_id]):alert(r.message||"Something went wrong.")},error:r=>{console.error(r),alert("Something went wrong while saving the story.")}})}}writenew(){this.onSubmit()}static{this.\u0275fac=function(i){return new(i||t)(P(xe),P(Q),P(ie),P(X))}}static{this.\u0275cmp=B({type:t,selectors:[["app-new"]],standalone:!0,features:[G],decls:120,vars:3,consts:[[1,"container","mx-auto","px-4","py-6","flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-1/4","hidden","lg:block"],[1,"bg-white","dark:bg-gray-800","rounded-xl","p-4","shadow-sm","mb-6","sticky","top-20"],[1,"border-2","border-dashed","border-gray-300","dark:border-gray-600","rounded-lg","h-64","flex","flex-col","items-center","justify-center","p-4","drag",3,"drop","dragover"],[1,"fas","fa-cloud-upload-alt","text-4xl","text-wattpad-light","mb-3"],[1,"text-center","text-wattpad-light","mb-3"],[1,"selectfile"],["type","file","accept","image/*",3,"change"],[1,"text-xs","text-wattpad-light","mt-2"],["class","mt-3",4,"ngIf"],[1,"bg-gray-200","dark:bg-gray-700","h-40","w-full","rounded-lg","flex","items-center","justify-center","mt-4"],[1,"text-gray-500","dark:text-gray-400"],[1,"lg:w-2/4"],[1,"bg-white","dark:bg-gray-800","rounded-xl","p-6","shadow-sm","mb-6"],[1,"text-2xl","lg:text-3xl","font-bold","mb-4"],[3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-1"],["type","text","formControlName","story_title",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["rows","4","formControlName","story_description",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["formControlName","category",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"flex","flex-wrap","gap-2","mb-2"],["type","hidden","formControlName","tags"],[1,"tags-container","mt-2"],["class","bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded-full text-xs",4,"ngFor","ngForOf"],["type","text","placeholder","Add tags...","formControlName","tagsInput",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700",3,"keyup"],["formControlName","audiences",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["value","Teen"],["value","Young Adult"],["value","Adult"],["formControlName","language",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["value","English"],["value","Marathi"],["value","Hindi"],["value","Spanish"],["value","French"],["id","","aria-label","Copyright options","formControlName","copyright",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["hidden","","disabled","","value","Select"],["value","7"],["value","8"],[1,"flex","items-center"],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","value","","checked","",1,"sr-only","peer"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-wattpad-primary/30","dark:peer-focus:ring-wattpad-primary/50","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-wattpad-primary"],[1,"ms-3","text-sm","font-medium"],[1,"flex","justify-end","space-x-3","mt-6"],[1,"px-4","py-2","rounded-full","font-medium","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"px-6","py-2","rounded-full","font-medium","bg-wattpad-primary","text-white","hover:bg-[#E5274B]","transition-colors"],[1,"bg-gray-200","dark:bg-gray-700","h-96","w-full","rounded-lg","flex","items-center","justify-center","sticky","top-20"],[1,"mt-3"],[1,"img-fluid","border",2,"width","256px","height","400px",3,"src"],[1,"bg-gray-200","dark:bg-gray-700","px-2","py-1","rounded-full","text-xs"],["type","button","aria-label","Remove",1,"btn-close","btn-close-white","ms-2",2,"font-size","0.6rem",3,"click"]],template:function(i,r){i&1&&(f(0,"app-header"),o(1,"div",0)(2,"aside",1)(3,"div",2)(4,"div")(5,"div",3),k("drop",function(d){return r.onFileDropped(d)})("dragover",function(d){return r.onDragOver(d)}),f(6,"i",4),o(7,"p",5),l(8,"Upload your story cover"),a(),o(9,"div",6)(10,"input",7),k("change",function(d){return r.onFileSelected(d)}),a()(),o(11,"p",8),l(12,"JPEG or PNG, 800x1200 recommended"),a()(),v(13,rn,2,1,"div",9),a(),o(14,"div",10)(15,"span",11),l(16,"Advertisement"),a()()()(),o(17,"main",12)(18,"article",13)(19,"h1",14),l(20,"Create New Story"),a(),o(21,"form",15),k("ngSubmit",function(){return r.onSubmit()}),o(22,"div",16)(23,"div")(24,"label",17),l(25,"Title"),a(),f(26,"input",18),a(),o(27,"div")(28,"label",17),l(29,"Description"),a(),f(30,"textarea",19),a(),o(31,"div")(32,"label",17),l(33,"Category"),a(),o(34,"select",20)(35,"option"),l(36,"Select a category"),a(),o(37,"option",21),l(38,"Romance"),a(),o(39,"option",22),l(40,"Fantasy"),a(),o(41,"option",23),l(42,"Mystery"),a(),o(43,"option",24),l(44,"Sci-Fi"),a(),o(45,"option",25),l(46,"Horror"),a(),o(47,"option",26),l(48,"Teen Fiction"),a()()(),o(49,"div")(50,"label",17),l(51,"Tags (up to 5)"),a(),o(52,"div",27),f(53,"input",28),o(54,"div",29),v(55,nn,3,1,"span",30),a()(),o(56,"input",31),k("keyup",function(d){return r.onTagsKeyUp(d)}),a()(),o(57,"div")(58,"label",17),l(59,"Target Audience"),a(),o(60,"select",32)(61,"option"),l(62,"All Audiences"),a(),o(63,"option",33),l(64,"Teen"),a(),o(65,"option",34),l(66,"Young Adult"),a(),o(67,"option",35),l(68,"Adult"),a()()(),o(69,"div")(70,"label",17),l(71,"Language"),a(),o(72,"select",36)(73,"option",37),l(74,"English"),a(),o(75,"option",38),l(76,"Marathi"),a(),o(77,"option",39),l(78,"Hindi"),a(),o(79,"option",40),l(80,"Spanish"),a(),o(81,"option",41),l(82,"French"),a()()(),o(83,"div")(84,"label",17),l(85,"Copyright"),a(),o(86,"select",42)(87,"option",43),l(88,"Select"),a(),o(89,"option",21),l(90,"All Rights Reserved"),a(),o(91,"option",22),l(92,"Public Domain"),a(),o(93,"option",23),l(94,"Creative Commons (CC) Attribution"),a(),o(95,"option",24),l(96,"(CC) Attrib. NonCommercial"),a(),o(97,"option",25),l(98,"(CC) Attrib. NonComm. NoDerivs"),a(),o(99,"option",26),l(100,"(CC) Attrib. NonComm. ShareAlike"),a(),o(101,"option",44),l(102,"(CC) Attribution-ShareAlike"),a(),o(103,"option",45),l(104,"(CC) Attribution-NoDerivs"),a()()(),o(105,"div",46)(106,"label",47),f(107,"input",48)(108,"div",49),o(109,"span",50),l(110,"Mature Content"),a()()()(),o(111,"div",51)(112,"button",52),l(113," Cancel "),a(),o(114,"button",53),l(115," Continue "),a()()()()(),o(116,"aside",1)(117,"div",54)(118,"span",11),l(119,"Advertisement"),a()()()()),i&2&&(u(13),w("ngIf",r.imagePreview),u(8),w("formGroup",r.storyForm),u(34),w("ngForOf",r.tagsList))},dependencies:[H,se,q,we,me,Ye,We,ae,Ue,le,ce,ue,ge,he,Xe,K,He],styles:[".poster[_ngcontent-%COMP%]{background:#eee;width:260px;height:400px}@media (min-width: 1024px){body[_ngcontent-%COMP%]{padding-bottom:0}}.carousel[_ngcontent-%COMP%]{scroll-snap-type:x mandatory;scroll-behavior:smooth;-webkit-overflow-scrolling:touch}.carousel-item[_ngcontent-%COMP%]{scroll-snap-align:start;flex-shrink:0}.hide-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.story-progress[_ngcontent-%COMP%]{height:4px;background:#ffffff4d}.story-progress-bar[_ngcontent-%COMP%]{height:100%;background:#fff}.bottom-nav[_ngcontent-%COMP%]{height:72px;box-shadow:0 -2px 10px #0000000d}.fab-button[_ngcontent-%COMP%]{box-shadow:0 4px 12px #ff2d554d}.search-overlay[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transition:opacity .3s ease}.search-overlay.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.story-card[_ngcontent-%COMP%]:hover   .story-cover[_ngcontent-%COMP%]{transform:scale(1.03)}.writer-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}#editor[_ngcontent-%COMP%]{height:500px;font-size:16px;line-height:1.6}.ql-toolbar.ql-snow[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #e2e8f0}.ql-container.ql-snow[_ngcontent-%COMP%]{border:none}.ql-editor[_ngcontent-%COMP%]{padding:16px}.preview-modal[_ngcontent-%COMP%]{display:none;position:fixed;inset:0;background:#fff;z-index:100;overflow-y:auto;padding:20px}.preview-modal.active[_ngcontent-%COMP%]{display:block}.preview-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:40px 20px}.preview-controls[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:#fff;padding:10px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 10px #0000001a;z-index:101}.font-size-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.font-size-btn[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#f0f0f0;cursor:pointer}.font-size-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0}.selectfile[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;left:0;top:0;width:100%;height:180px}.drag[_ngcontent-%COMP%]{position:relative}.newstoryform[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:5px;border:1px solid;border-color:#d1d5db}"]})}}return t})();var on=(t,n)=>({"story-status":!0,"status-published bg-success":t,"status-draft bg-warning":n});function sn(t,n){if(t&1&&(o(0,"span"),l(1),a()),t&2){let e=C();u(),z("Joined ",e.getJoinedMonthYear(e.userDetail.created),"")}}function an(t,n){if(t&1){let e=W();o(0,"div",99),k("click",function(){let r=$(e).$implicit,s=C();return U(s.continueWriting(r.id,r.story_title))}),o(1,"div",48)(2,"div",100),f(3,"img",101),a(),o(4,"div",102)(5,"h3",103),l(6),o(7,"span",104),l(8),a()(),o(9,"p",105),l(10,"Mystery \u2022 45.2k reads \u2022 24 episodes"),a(),o(11,"div",106),f(12,"i",107),o(13,"span"),l(14,"4.8 (1.2k)"),a()(),o(15,"p",108),l(16),a(),o(17,"div",109)(18,"span",110),l(19,"Updated: 2 days ago"),a(),o(20,"button",111),l(21," Read "),a()()()()()}if(t&2){let e=n.$implicit,i=C();u(3),kt("alt",e.story_title),w("src",i.storyImgPath+"/"+e.story_image,fe),u(3),z("",e.story_title," "),u(),w("ngClass",pe(6,on,e.story_status=="1",e.story_status=="0")),u(),z(" ",e.story_status=="0"?"Draft":"Published",`
`),u(8),M(e.description)}}function ln(t,n){t&1&&(o(0,"div",112),l(1,` No stories found. Start writing a new one!
`),a())}function dn(t,n){if(t&1&&(o(0,"div",114)(1,"div",115)(2,"div",116)(3,"span",117),l(4),a()(),o(5,"div",102)(6,"h3",118),l(7),a(),o(8,"p",119),l(9,"12.5k followers \u2022 8 stories"),a()(),o(10,"button",111),l(11," Follow "),a()()()),t&2){let e=n.$implicit;u(4),M(e.name.charAt(0)),u(3),M(e.name)}}function pn(t,n){if(t&1&&(o(0,"div",37),v(1,dn,12,2,"div",113),a()),t&2){let e=C();u(),w("ngForOf",e.followersList)}}function cn(t,n){t&1&&(o(0,"p"),l(1,"No followers yet."),a())}function mn(t,n){if(t&1&&(o(0,"div",114)(1,"div",115)(2,"div",116)(3,"span",117),l(4),a()(),o(5,"div",102)(6,"h3",118),l(7),a(),o(8,"p",119),l(9,"20.1k followers \u2022 25 stories"),a()(),o(10,"button",120),l(11," Following "),a()()()),t&2){let e=n.$implicit;u(4),M(e.name.charAt(0)),u(3),M(e.name)}}function un(t,n){if(t&1&&(o(0,"div",37),v(1,mn,12,2,"div",113),a()),t&2){let e=C();u(),w("ngForOf",e.followingList)}}function fn(t,n){t&1&&(o(0,"p"),l(1,"Not following anyone yet."),a())}var wi=(()=>{class t{constructor(e,i,r){this.http=e,this.router=i,this.route=r,this.activeTab="stories",this.stories=[],this.isLoading=!0,this.errorMessage="",this.storyImgPath="https://hyperblah.com/funtelapi",this.storyId=null,this.storyDetail=null,this.userDetail=null,this.followersList=[],this.followingList=[]}ngOnInit(){this.fetchStoryDetail(),this.fetchUserDetail(),this.route.paramMap.subscribe(e=>{let i=e.get("idAndTitle");if(i){let r=i.split("-")[0];this.storyId=Number(r),this.fetchStoryDetail()}this.fetchStories()})}fetchStories(){let e=sessionStorage.getItem("userId");if(!e){this.errorMessage="Please login to view your stories",this.isLoading=!1,this.router.navigate(["/login"]);return}this.isLoading=!0;let i=new te({"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`});this.http.post("https://hyperblah.com/funtelapi/my_works_story_name.php",{user_id:e},{headers:i}).subscribe({next:r=>{r.status==="success"&&r.data?(this.stories=r.data,console.log(this.stories)):this.errorMessage="No stories found",this.isLoading=!1},error:r=>{console.error("Error fetching stories:",r),this.errorMessage="Failed to load stories. Please try again later.",this.isLoading=!1}})}setActiveTab(e){this.activeTab=e}get totalStories(){return this.stories.length}isActiveTab(e){return this.activeTab===e}getTabClass(e){let i="px-4 py-2 font-medium transition-colors";return this.isActiveTab(e)?`${i} text-wattpad-primary border-b-2 border-wattpad-primary`:`${i} text-wattpad-light hover:text-wattpad-primary`}continueWriting(e,i){let r=this.slugify(i);this.router.navigate(["/episode",`${e}-${r}`])}fetchStoryDetail(){let e=new te({"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`});this.http.post(`https://hyperblah.com/funtelapi/getstorydetails.php?id=${this.storyId}`,{},{headers:e}).subscribe({next:i=>{i.status==="success"&&i.data?(this.storyDetail=i.data,console.log("Story Detail:",this.storyDetail)):this.errorMessage="Story detail not found."},error:i=>{console.error("Error fetching story detail:",i),this.errorMessage="Failed to load story detail."}})}fetchUserDetail(){let e=sessionStorage.getItem("userId");e&&this.http.get("https://hyperblah.com/funtelapi/getuserdetail.php").subscribe({next:i=>{if(i.status==="success"){let r=i.data.find(s=>s.id==e);r?(this.userDetail=r,console.log("Logged-in User:",this.userDetail),this.fetchFollowData()):this.errorMessage="User not found"}else this.errorMessage="Failed to load user"},error:()=>{this.errorMessage="Error fetching user info"}})}slugify(e){return e.toLowerCase().trim().replace(/[\s\W-]+/g,"-").replace(/^-+|-+$/g,"")}getJoinedMonthYear(e){if(!e)return"";let i=new Date(e.replace(" ","T")),r={month:"long",year:"numeric"};return isNaN(i.getTime())?"Invalid Date":i.toLocaleDateString("en-US",r)}fetchFollowData(){if(!sessionStorage.getItem("userId"))return;let i=sessionStorage.getItem("userId"),r=this.userDetail?.id;this.http.post("https://hyperblah.com/funtelapi/follow/check_follow.php",{follower_id:i,following_id:r}).subscribe({next:s=>{s.status==="success"&&(this.followingList=s.followingList||[],this.followersList=s.followersList||[])},error:()=>{console.error("Error loading follow data")}})}static{this.\u0275fac=function(i){return new(i||t)(P(X),P(Q),P(ie))}}static{this.\u0275cmp=B({type:t,selectors:[["app-myworks"]],standalone:!0,features:[G],decls:267,vars:27,consts:[["noFollowers",""],["noFollowing",""],[1,"container","mx-auto","px-0","lg:px-6"],[1,"relative","h-48","lg:h-64","bg-gradient-to-r","from-purple-500","to-pink-500"],[1,"absolute","-bottom-16","left-4","lg:left-8"],[1,"profile-avatar","w-32","h-32","lg:w-40","lg:h-40","rounded-full","bg-white","dark:bg-gray-700","flex","items-center","justify-center","overflow-hidden"],[1,"text-4xl","text-gray-500","dark:text-gray-400"],[1,"absolute","top-4","right-4"],[1,"p-2","bg-white/80","dark:bg-gray-800/80","rounded-full","text-wattpad-primary","hover:bg-white","dark:hover:bg-gray-700","transition-colors"],[1,"fas","fa-ellipsis-h"],[1,"mt-20","lg:mt-24","px-4","lg:px-8"],[1,"flex","justify-between","items-start"],[1,"text-2xl","lg:text-3xl","font-bold"],[1,"text-wattpad-light","text-sm","lg:text-base"],[1,"flex","space-x-2"],["id","followBtn",1,"px-6","py-2","rounded-full","font-medium","bg-wattpad-primary","text-white","hover:bg-[#E5274B]","transition-colors"],["href","new",1,"px-6","py-2","rounded-full","font-medium","bg-wattpad-secondary","text-white","hover:bg-[#009966]","transition-colors"],[1,"flex","items-center","space-x-6","mt-4","text-sm","lg:text-base"],[1,"flex","items-center"],[1,"fas","fa-book","text-wattpad-light","mr-1"],[1,"font-medium"],[1,"text-wattpad-light","ml-1"],[1,"fas","fa-users","text-wattpad-light","mr-1"],[1,"fas","fa-user-friends","text-wattpad-light","mr-1"],[1,"mt-4"],[1,"font-bold"],[1,"text-sm","lg:text-base","mt-1"],[1,"flex","items-center","mt-2","text-sm","text-wattpad-light"],[1,"fas","fa-calendar-alt","mr-2"],[4,"ngIf"],[1,"mt-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex"],["data-tab","stories",3,"click"],["data-tab","followers",3,"click"],["data-tab","following",3,"click"],[1,"py-4"],["id","stories-tab",1,"tab-content"],[1,"grid","grid-cols-1","gap-4"],["class","bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-all pointer",3,"click",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngIf"],["id","followers-tab",1,"tab-content"],["class","grid grid-cols-1 gap-4",4,"ngIf","ngIfElse"],["id","following-tab",1,"tab-content"],[1,"hidden","lg:block","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","py-12"],[1,"container","mx-auto","px-6"],[1,"grid","grid-cols-4","gap-8"],[1,"text-lg","font-bold","text-wattpad-primary","mb-4"],[1,"text-sm","text-wattpad-light","mb-4"],[1,"flex","space-x-4"],["href","#",1,"text-wattpad-light","hover:text-wattpad-primary","transition-colors"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-instagram"],[1,"fab","fa-tiktok"],[1,"font-bold","mb-4"],[1,"space-y-2"],["href","#",1,"text-sm","text-wattpad-light","hover:text-wattpad-primary","transition-colors"],[1,"border-t","border-gray-200","dark:border-gray-700","mt-12","pt-8"],[1,"flex","flex-wrap","justify-between","items-center"],[1,"text-xs","text-wattpad-light"],["href","#",1,"text-xs","text-wattpad-light","hover:text-wattpad-primary","transition-colors"],[1,"bottom-nav","fixed","bottom-0","left-0","right-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","lg:hidden"],[1,"flex","justify-around","items-center","h-full"],["href","#",1,"text-gray-500","dark:text-gray-400","flex","flex-col","items-center"],[1,"fas","fa-home","text-xl"],[1,"text-xs","mt-1"],[1,"fas","fa-search","text-xl"],["href","#",1,"fab-button","bg-wattpad-primary","text-white","p-4","rounded-full","-mt-10","flex","items-center","justify-center"],[1,"fas","fa-plus","text-xl"],["href","#",1,"text-wattpad-primary","flex","flex-col","items-center"],[1,"fas","fa-bookmark","text-xl"],[1,"fas","fa-user","text-xl"],["id","writeStoryModal",1,"fixed","inset-0","bg-black/50","z-50","hidden","flex","items-center","justify-center","p-4"],[1,"bg-white","dark:bg-gray-800","rounded-xl","w-full","max-w-4xl","max-h-[90vh]","overflow-auto"],[1,"sticky","top-0","bg-white","dark:bg-gray-800","p-4","border-b","border-gray-200","dark:border-gray-700","flex","justify-between","items-center"],[1,"text-xl","font-bold"],["id","closeModal",1,"text-gray-500","dark:text-gray-300","hover:text-wattpad-primary"],[1,"fas","fa-times"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","p-6"],[1,"border-2","border-dashed","border-gray-300","dark:border-gray-600","rounded-lg","h-64","flex","flex-col","items-center","justify-center","p-4"],[1,"fas","fa-cloud-upload-alt","text-4xl","text-wattpad-light","mb-3"],[1,"text-center","text-wattpad-light","mb-3"],[1,"px-4","py-2","rounded-full","font-medium","bg-wattpad-primary","text-white","hover:bg-[#E5274B]","transition-colors"],[1,"text-xs","text-wattpad-light","mt-2"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-1"],["type","text",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["rows","4",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],[1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],[1,"flex","flex-wrap","gap-2","mb-2"],[1,"bg-gray-200","dark:bg-gray-700","px-2","py-1","rounded-full","text-xs"],["type","text","placeholder","Add tags...",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","value","","checked","",1,"sr-only","peer"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-wattpad-primary/30","dark:peer-focus:ring-wattpad-primary/50","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-wattpad-primary"],[1,"ms-3","text-sm","font-medium"],[1,"flex","justify-end","space-x-3","mt-6"],[1,"px-4","py-2","rounded-full","font-medium","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"px-6","py-2","rounded-full","font-medium","bg-wattpad-primary","text-white","hover:bg-[#E5274B]","transition-colors"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm","hover:shadow-md","transition-all","pointer",3,"click"],[1,"bg-gray-200","w-20","h-28","lg:w-24","lg:h-32","rounded-lg","flex-shrink-0","flex","items-center","justify-center","overflow-h"],[3,"src","alt"],[1,"flex-1","min-w-0"],[1,"font-bold","text-lg","lg:text-xl"],[3,"ngClass"],[1,"text-sm","lg:text-base","text-wattpad-light","mt-1"],[1,"flex","items-center","mt-2","text-sm","lg:text-base"],[1,"fas","fa-star","text-yellow-400","mr-1"],[1,"text-sm","lg:text-base","mt-2","line-clamp-2"],[1,"flex","justify-between","items-center","mt-3"],[1,"text-xs","lg:text-sm","text-wattpad-light"],[1,"text-xs","lg:text-sm","bg-wattpad-primary","text-white","px-3","py-1","rounded-full","hover:bg-[#E5274B]","transition-colors"],[1,"alert","alert-info"],["class","bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-all",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm","hover:shadow-md","transition-all"],[1,"flex","items-center","space-x-4"],[1,"bg-gray-200","w-12","h-12","rounded-full","flex-shrink-0","flex","items-center","justify-center"],[1,"text-gray-500"],[1,"font-bold","text-base","lg:text-lg"],[1,"text-sm","lg:text-base","text-wattpad-light"],[1,"text-xs","lg:text-sm","bg-gray-200","dark:bg-gray-700","px-3","py-1","rounded-full","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors"]],template:function(i,r){if(i&1){let s=W();f(0,"app-header"),o(1,"main",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"span",6),l(6),a()()(),o(7,"div",7)(8,"button",8),f(9,"i",9),a()()(),o(10,"div",10)(11,"div",11)(12,"div")(13,"h1",12),l(14),a(),o(15,"p",13),l(16),a()(),o(17,"div",14)(18,"button",15),l(19," Follow "),a(),o(20,"a",16),l(21," Write Story "),a()()(),o(22,"div",17)(23,"div",18),f(24,"i",19),o(25,"span",20),l(26),a(),o(27,"span",21),l(28,"Stories"),a()(),o(29,"div",18),f(30,"i",22),o(31,"span",20),l(32),a(),o(33,"span",21),l(34,"Followers"),a()(),o(35,"div",18),f(36,"i",23),o(37,"span",20),l(38),a(),o(39,"span",21),l(40,"Following"),a()()(),o(41,"div",24)(42,"h3",25),l(43,"\u0932\u0947\u0916\u0915 \u0915\u0947 \u092C\u093E\u0930\u0947 \u092E\u0947\u0902"),a(),o(44,"p",26),l(45),a(),o(46,"div",27),f(47,"i",28),v(48,sn,2,1,"span",29),a()(),o(49,"div",30)(50,"div",31)(51,"button",32),k("click",function(){return $(s),U(r.setActiveTab("stories"))}),l(52),a(),o(53,"button",33),k("click",function(){return $(s),U(r.setActiveTab("followers"))}),l(54," Followers (5.2k) "),a(),o(55,"button",34),k("click",function(){return $(s),U(r.setActiveTab("following"))}),l(56," Following (342) "),a()()(),o(57,"div",35)(58,"div",36)(59,"div",37),v(60,an,22,9,"div",38)(61,ln,2,0,"div",39),a()(),o(62,"div",40),v(63,pn,2,1,"div",41)(64,cn,2,0,"ng-template",null,0,rt),a(),o(66,"div",42),v(67,un,2,1,"div",41)(68,fn,2,0,"ng-template",null,1,rt),a()()()(),o(70,"footer",43)(71,"div",44)(72,"div",45)(73,"div")(74,"h3",46),l(75,"StoryVerse"),a(),o(76,"p",47),l(77,"The world's most vibrant storytelling community."),a(),o(78,"div",48)(79,"a",49),f(80,"i",50),a(),o(81,"a",49),f(82,"i",51),a(),o(83,"a",49),f(84,"i",52),a(),o(85,"a",49),f(86,"i",53),a()()(),o(87,"div")(88,"h4",54),l(89,"Discover"),a(),o(90,"ul",55)(91,"li")(92,"a",56),l(93,"Browse Stories"),a()(),o(94,"li")(95,"a",56),l(96,"Wattpad Picks"),a()(),o(97,"li")(98,"a",56),l(99,"Community"),a()(),o(100,"li")(101,"a",56),l(102,"Events"),a()()()(),o(103,"div")(104,"h4",54),l(105,"Write"),a(),o(106,"ul",55)(107,"li")(108,"a",56),l(109,"Start Writing"),a()(),o(110,"li")(111,"a",56),l(112,"Writer Resources"),a()(),o(113,"li")(114,"a",56),l(115,"Writer Contests"),a()(),o(116,"li")(117,"a",56),l(118,"Writer Programs"),a()()()(),o(119,"div")(120,"h4",54),l(121,"Company"),a(),o(122,"ul",55)(123,"li")(124,"a",56),l(125,"About"),a()(),o(126,"li")(127,"a",56),l(128,"Careers"),a()(),o(129,"li")(130,"a",56),l(131,"Press"),a()(),o(132,"li")(133,"a",56),l(134,"Contact"),a()()()()(),o(135,"div",57)(136,"div",58)(137,"p",59),l(138,"\xA9 2023 StoryVerse. All rights reserved."),a(),o(139,"div",48)(140,"a",60),l(141,"Terms"),a(),o(142,"a",60),l(143,"Privacy"),a(),o(144,"a",60),l(145,"Guidelines"),a(),o(146,"a",60),l(147,"Help"),a()()()()()(),o(148,"nav",61)(149,"div",62)(150,"a",63),f(151,"i",64),o(152,"span",65),l(153,"Home"),a()(),o(154,"a",63),f(155,"i",66),o(156,"span",65),l(157,"Search"),a()(),o(158,"a",67),f(159,"i",68),a(),o(160,"a",69),f(161,"i",70),o(162,"span",65),l(163,"Library"),a()(),o(164,"a",63),f(165,"i",71),o(166,"span",65),l(167,"Profile"),a()()()(),o(168,"div",72)(169,"div",73)(170,"div",74)(171,"h3",75),l(172,"Create New Story"),a(),o(173,"button",76),f(174,"i",77),a()(),o(175,"div",78)(176,"div")(177,"div",79),f(178,"i",80),o(179,"p",81),l(180,"Upload your story cover"),a(),o(181,"button",82),l(182," Select Image "),a(),o(183,"p",83),l(184,"JPEG or PNG, 800x1200 recommended"),a()()(),o(185,"div")(186,"div",84)(187,"div")(188,"label",85),l(189,"Title"),a(),f(190,"input",86),a(),o(191,"div")(192,"label",85),l(193,"Description"),a(),f(194,"textarea",87),a(),o(195,"div")(196,"label",85),l(197,"Category"),a(),o(198,"select",88)(199,"option"),l(200,"Select a category"),a(),o(201,"option"),l(202,"Romance"),a(),o(203,"option"),l(204,"Fantasy"),a(),o(205,"option"),l(206,"Mystery"),a(),o(207,"option"),l(208,"Sci-Fi"),a(),o(209,"option"),l(210,"Horror"),a(),o(211,"option"),l(212,"Teen Fiction"),a()()(),o(213,"div")(214,"label",85),l(215,"Tags (up to 5)"),a(),o(216,"div",89)(217,"span",90),l(218,"#romance"),a(),o(219,"span",90),l(220,"#mystery"),a()(),f(221,"input",91),a(),o(222,"div")(223,"label",85),l(224,"Target Audience"),a(),o(225,"select",88)(226,"option"),l(227,"All Audiences"),a(),o(228,"option"),l(229,"Teen"),a(),o(230,"option"),l(231,"Young Adult"),a(),o(232,"option"),l(233,"Adult"),a()()(),o(234,"div")(235,"label",85),l(236,"Language"),a(),o(237,"select",88)(238,"option"),l(239,"English"),a(),o(240,"option"),l(241,"Hindi"),a(),o(242,"option"),l(243,"Spanish"),a(),o(244,"option"),l(245,"French"),a()()(),o(246,"div")(247,"label",85),l(248,"Copyright"),a(),o(249,"select",88)(250,"option"),l(251,"All Rights Reserved"),a(),o(252,"option"),l(253,"Public Domain"),a(),o(254,"option"),l(255,"Creative Commons"),a()()(),o(256,"div",18)(257,"label",92),f(258,"input",93)(259,"div",94),o(260,"span",95),l(261,"Mature Content"),a()()()(),o(262,"div",96)(263,"button",97),l(264," Cancel "),a(),o(265,"button",98),l(266," Continue "),a()()()()()()}if(i&2){let s=it(65),d=it(69);u(6),M(r.userDetail==null?null:r.userDetail.name.charAt(0)),u(8),M((r.userDetail==null?null:r.userDetail.name)||"Loading Name..."),u(2),z("",r.userDetail==null?null:r.userDetail.name,"writer"),u(10),M(r.totalStories),u(6),M(r.followersList.length),u(6),M(r.followingList.length),u(7),M((r.userDetail==null?null:r.userDetail.about)||"Loading about..."),u(3),w("ngIf",r.userDetail==null?null:r.userDetail.created),u(3),Ge(r.getTabClass("stories")),u(),z(" \u0930\u091A\u0928\u093E\u090F\u0901 (",r.totalStories,") "),u(),Ge(r.getTabClass("followers")),u(2),Ge(r.getTabClass("following")),u(3),Pe("hidden",!r.isActiveTab("stories")),u(2),w("ngForOf",r.stories),u(),w("ngIf",r.stories.length===0),u(),Pe("hidden",!r.isActiveTab("followers")),u(),w("ngIf",r.followersList.length>0)("ngIfElse",s),u(3),Pe("hidden",!r.isActiveTab("following")),u(),w("ngIf",r.followingList.length>0)("ngIfElse",d)}},dependencies:[K,H,Ie,se,q],styles:[".box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.allstories[_ngcontent-%COMP%]{background:#fff;padding:20px}.allstories[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding-bottom:50px;margin-bottom:50px!important}.delete[_ngcontent-%COMP%]{border-radius:100px;padding:5px 12px;margin-left:20px;display:inline}.delete[_ngcontent-%COMP%]:hover{background:#ccc}.delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px}.allstories[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.boximg[_ngcontent-%COMP%]{text-align:center}"]})}}return t})();var gn=(t,n)=>({"bg-wattpad-primary text-white pointer":t,"bg-white text-wattpad-primary border border-wattpad-primary pointer":n}),hn=t=>({"chapter-card":!0,"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-all":!0,"locked-chapter":t});function xn(t,n){if(t&1&&(o(0,"h1",40),l(1),a()),t&2){let e=C();u(),M(e.storyDetail.story_title)}}function wn(t,n){if(t&1&&f(0,"p",41),t&2){let e=C();w("innerHtml",e.storyDetail.description,De)}}function bn(t,n){if(t&1&&(o(0,"div",42),l(1),a()),t&2){let e=C();u(),z(" ",e.libraryMessage," ")}}function yn(t,n){t&1&&(o(0,"span"),f(1,"i",43),l(2," Remove from Library "),a())}function vn(t,n){t&1&&(o(0,"span"),f(1,"i",44),l(2," Add to Library "),a())}function Sn(t,n){if(t&1&&(o(0,"div",50),l(1),a()),t&2){let e=n.$implicit;u(),z(" ",e.name.charAt(0).toUpperCase()," ")}}function _n(t,n){if(t&1&&(o(0,"div",47)(1,"div",48),v(2,Sn,2,1,"div",49),a()()),t&2){let e=C(2);u(2),w("ngForOf",e.followerUsers.slice(0,5))}}function Cn(t,n){if(t&1){let e=W();o(0,"button",51),k("click",function(){$(e);let r=C(2);return U(r.toggleFollow())}),l(1),a()}if(t&2){let e=C(2);w("ngClass",pe(2,gn,!e.isFollowing,e.isFollowing)),u(),z(" ",e.isFollowing?"Unfollow":"Follow",`
`)}}function En(t,n){if(t&1&&(o(0,"div"),v(1,_n,3,1,"div",45)(2,Cn,2,5,"button",46),a()),t&2){let e=C();u(),w("ngIf",e.followerUsers.length>0),u(),w("ngIf",e.storyDetail&&e.storyDetail.author_id!==e.userId)}}function Tn(t,n){if(t&1){let e=W();o(0,"div",52),k("click",function(){let r=$(e),s=r.$implicit,d=r.index,p=C();return U(p.handleChapterClick(d,s))}),o(1,"h3",53),l(2),a(),o(3,"div",54)(4,"div",13),f(5,"i",18),o(6,"span"),l(7),a()(),o(8,"div",13),f(9,"i",55),o(10,"span"),l(11,"4.8"),a()(),o(12,"div",13),f(13,"i",17),o(14,"span"),l(15,"15 min read"),a()()(),o(16,"p",29),l(17,"Published: 15 March 2023"),a()()}if(t&2){let e=n.$implicit,i=n.index;w("ngClass",At(4,hn,i>=2)),u(2),Ae("Chapter ",i+1," - ",e.story_title,""),u(5),z("",e.views||0," views")}}var bi=(()=>{class t{constructor(e,i,r){this.http=e,this.router=i,this.route=r,this.libraryMessage="",this.stories=[],this.isLoading=!0,this.errorMessage="",this.storyDetail=null,this.isFollowing=!1,this.userId=null,this.storyImgPath="https://hyperblah.com/funtelapi",this.storyId=null,this.followerCount=0,this.followerUsers=[],this.likedStories=[]}ngOnInit(){let e=sessionStorage.getItem("userId");if(!e){this.router.navigate(["login"]);return}this.userId=+e,this.route.paramMap.subscribe(i=>{let r=i.get("idAndTitle");if(r){let s=r.split("-")[0];this.storyId=Number(s),this.fetchStoryDetail(),this.fetchStories()}}),this.getFollowingUsers(),this.loadLikedStories()}fetchStoryDetail(){let e=new te({"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`});this.http.post(`https://hyperblah.com/funtelapi/getstorydetails.php?id=${this.storyId}`,{},{headers:e}).subscribe({next:i=>{i.status==="success"&&i.data?(this.storyDetail=i.data,this.storyDetail.author_id=this.storyDetail.user_id,console.log("\u2705 Story Detail:",this.storyDetail),this.checkFollowStatus(),this.getFollowingUsers()):this.errorMessage="Story detail not found."},error:i=>{console.error("\u274C Error fetching story detail:",i),this.errorMessage="Failed to load story detail."}})}getFollowingUsers(){if(!this.storyDetail?.author_id)return;let e=new te({"Content-Type":"application/json"});this.http.post("https://hyperblah.com/funtelapi/follow/check_follow.php",{following_id:this.storyDetail.author_id},{headers:e,withCredentials:!0}).subscribe({next:i=>{this.followerUsers=i.followersList||[],this.followerCount=i.followerCount||0,console.log("followerCount",this.followerCount),console.log("Followers:",this.followerUsers)},error:i=>{console.error("Failed to load followers",i)}})}addToLibrary(e){let i=sessionStorage.getItem("userId");if(!i)return;let r={user_id:i,story_id:e,like_story:!0};this.http.post("https://hyperblah.com/funtelapi/addstory.php",r).subscribe({next:s=>{s.status==="success"?(this.likedStories.push(e),this.libraryMessage="Story added to library"):s.status==="removed"&&(this.likedStories=this.likedStories.filter(d=>d!==e),this.libraryMessage="Story removed from library"),setTimeout(()=>this.libraryMessage="",3e3)},error:()=>{console.error("Library action failed")}})}loadLikedStories(){let e=sessionStorage.getItem("userId");e&&this.http.get(`https://hyperblah.com/funtelapi/allstory.php?action=library&user_id=${e}`).subscribe({next:i=>{i.status==="success"&&(this.likedStories=i.data.map(r=>+r.id),console.log("Liked Stories:",this.likedStories))},error:i=>{console.error("Failed to load liked stories:",i)}})}checkFollowStatus(){let e=this.storyDetail?.author_id;if(!this.userId||!e||this.userId===e)return;let i=new te({"Content-Type":"application/json"});this.http.post("https://hyperblah.com/funtelapi/follow/check_follow.php",{follower_id:this.userId,following_id:e},{headers:i,withCredentials:!0}).subscribe({next:r=>{this.isFollowing=r.isFollowing,console.log("Follow check result:",r)},error:r=>{console.error("Follow check failed:",r)}})}toggleFollow(){let e=this.storyDetail?.author_id;if(!this.userId||!e)return;let i=this.isFollowing?"https://hyperblah.com/funtelapi/follow/unfollow.php":"https://hyperblah.com/funtelapi/follow/follow.php",r=new te({"Content-Type":"application/json"}),s={follower_id:this.userId,following_id:e};this.http.post(i,s,{headers:r,withCredentials:!0}).subscribe({next:d=>{console.log("Follow/Unfollow response:",d),this.isFollowing=!this.isFollowing},error:d=>{console.error("Follow/Unfollow failed:",d)}})}fetchStories(){let e=sessionStorage.getItem("userId");if(!e){this.errorMessage="Please login to view your stories",this.isLoading=!1,this.router.navigate(["/login"]);return}let i=new te({"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`});this.http.post(`https://hyperblah.com/funtelapi/get_user_ep.php?stories_id=${this.storyId}`,{user_id:e},{headers:i}).subscribe({next:r=>{r.status==="success"&&r.data?this.stories=r.data.map(s=>{let p=(s.content||"").split(/\s+/).length,c=Math.ceil(p/200);return Le(Oe({},s),{wordCount:p,readTime:c})}):this.errorMessage="Story not found.",this.isLoading=!1},error:r=>{console.error("Error fetching story:",r),this.errorMessage="Failed to load story.",this.isLoading=!1}})}goToEdit(e){let i=this.slugify(e.story_title),r=e.id;this.router.navigate(["/story-write",`${r}-${i}`])}goToCreate(){if(!this.stories.length)return;let e=this.stories[0].stories_id;this.router.navigate(["/creat",e])}getTotalReadingTime(){return this.stories.reduce((e,i)=>e+(i.readTime||0),0)}formatTotalReadTime(e){if(e>=10080){let i=Math.floor(e/10080),r=e%10080;return`${i} week${i>1?"s":""}`+(r>0?` ${this.formatTotalReadTime(r)}`:"")}else if(e>=1440){let i=Math.floor(e/1440),r=e%1440;return`${i} day${i>1?"s":""}`+(r>0?` ${this.formatTotalReadTime(r)}`:"")}else if(e>=60){let i=Math.floor(e/60),r=e%60;return`${i} hr${i>1?"s":""}`+(r>0?` ${r} min`:"")}else return`${e} min`}getTotalViews(){return this.stories.reduce((e,i)=>e+(i.views||0),0)}slugify(e){return e.toLowerCase().trim().replace(/[\s\W-]+/g,"-").replace(/^-+|-+$/g,"")}formatCount(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}goToSeries(e){this.incrementView(e.id).then(()=>{let i=e.id,r=e.story_title||"",s=this.slugify(r);this.router.navigate(["/series",`${i}-${s}`])})}incrementView(e){let i=new te({"Content-Type":"application/json"});return new Promise((r,s)=>{this.http.post("https://hyperblah.com/funtelapi/increment_view.php",{content_id:e},{headers:i}).subscribe({next:()=>{console.log("View count incremented"),r()},error:d=>{console.error("Failed to increment view count",d),s()}})})}handleChapterClick(e,i){if(e>=2){window.open("https://play.google.com/store/apps/details?id=com.yourapp.id","_blank");return}this.goToSeries(i)}static{this.\u0275fac=function(i){return new(i||t)(P(X),P(Q),P(ie))}}static{this.\u0275cmp=B({type:t,selectors:[["app-story"]],standalone:!0,features:[G],decls:123,vars:14,consts:[[1,"container","mx-auto","px-4","pb-6","lg:px-6","lg:py-8"],[1,"mt-4","mb-8","lg:mb-12"],[1,"bg-gradient-to-r","from-wattpad-primary","to-wattpad-secondary","rounded-xl","p-6","lg:p-8","text-white"],[1,"flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-1/3"],[1,"bg-gray-200","h-64","w-full","rounded-lg","flex","items-center","justify-center"],[1,"text-gray-500"],[1,"lg:w-2/3"],["class","text-2xl lg:text-4xl font-bold mb-2",4,"ngIf"],[1,"flex","flex-wrap","gap-2","mb-4"],[1,"bg-white/20","px-3","py-1","rounded-full","text-sm"],["class","text-sm lg:text-base mb-6",3,"innerHtml",4,"ngIf"],[1,"flex","flex-wrap","items-center","gap-4","mb-6"],[1,"flex","items-center"],[1,"flex","mr-1"],[1,"fas","fa-star","text-yellow-400"],[1,"fas","fa-star-half-alt","text-yellow-400"],[1,"fas","fa-clock","mr-1"],[1,"fas","fa-eye","mr-1"],["class","fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow z-50",4,"ngIf"],[1,"flex","flex-wrap","gap-4"],[1,"bg-white","text-wattpad-primary","px-6","py-2","rounded-full","font-medium","hover:bg-gray-100","transition-colors"],[1,"border","border-white","text-white","pointer","px-6","py-2","rounded-full","font-medium","hover:bg-white/10","transition-colors",3,"click","title"],[4,"ngIf"],[1,"mb-8","lg:mb-12"],[1,"flex","items-center","justify-between","bg-white","dark:bg-gray-800","rounded-xl","p-4","shadow-sm"],[1,"flex","items-center","space-x-4"],[1,"bg-gray-200","w-16","h-16","rounded-full","flex-shrink-0","flex","items-center","justify-center"],[1,"font-bold"],[1,"text-sm","text-wattpad-light"],[1,"text-xl","lg:text-2xl","font-bold","mb-4","lg:mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","pointer chapter-card bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-all",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-7","gap-3"],["href","#",1,"bg-white","dark:bg-gray-800","rounded-lg","p-3","text-center","hover:shadow-md","transition-all"],[1,"font-medium"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-3"],["href","#",1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","text-center","hover:shadow-md","transition-all"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4"],["href","#",1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","hover:shadow-md","transition-all"],[1,"text-2xl","lg:text-4xl","font-bold","mb-2"],[1,"text-sm","lg:text-base","mb-6",3,"innerHtml"],[1,"fixed","top-4","right-4","bg-green-500","text-white","px-4","py-2","rounded","shadow","z-50"],[1,"fa","fa-minus-circle"],[1,"fas","fa-plus","mr-2"],["class","flex items-center space-x-2 mb-4 followers",4,"ngIf"],["class","px-4 py-2 rounded-full text-sm font-medium hover:bg-opacity-80 transition-colors pointer",3,"ngClass","click",4,"ngIf"],[1,"flex","items-center","space-x-2","mb-4","followers"],[1,"flex","-space-x-2"],["class","w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-sm font-medium text-gray-700 dark:text-gray-200 border-2 border-white dark:border-gray-800",4,"ngFor","ngForOf"],[1,"w-8","h-8","rounded-full","bg-gray-200","dark:bg-gray-600","flex","items-center","justify-center","text-sm","font-medium","text-gray-700","dark:text-gray-200","border-2","border-white","dark:border-gray-800"],[1,"px-4","py-2","rounded-full","text-sm","font-medium","hover:bg-opacity-80","transition-colors","pointer",3,"click","ngClass"],[1,"pointer","chapter-card","bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm","hover:shadow-md","transition-all",3,"click","ngClass"],[1,"font-bold","text-lg","mb-2"],[1,"flex","flex-wrap","items-center","gap-4","text-sm","text-wattpad-light","mb-2"],[1,"fas","fa-star","text-yellow-400","mr-1"]],template:function(i,r){i&1&&(f(0,"app-header"),o(1,"main",0)(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"span",6),l(8,"Story Cover"),a()()(),o(9,"div",7),v(10,xn,2,1,"h1",8),o(11,"div",9)(12,"span",10),l(13),a()(),v(14,wn,1,1,"p",11),o(15,"div",12)(16,"div",13)(17,"div",14),f(18,"i",15)(19,"i",15)(20,"i",15)(21,"i",15)(22,"i",16),a(),o(23,"span"),l(24,"4.6 (220.2K)"),a()(),o(25,"div",13),f(26,"i",17),o(27,"span"),l(28),a()(),o(29,"div",13),f(30,"i",18),o(31,"span"),l(32),a()()(),v(33,bn,2,1,"div",19),o(34,"div",20)(35,"button",21),l(36," \u0905\u092D\u0940 \u092A\u0922\u093C\u0947\u0902 "),a(),o(37,"button",22),k("click",function(){return r.addToLibrary(r.storyDetail.id)}),v(38,yn,3,0,"span",23)(39,vn,3,0,"span",23),a()()()()()(),o(40,"section",24)(41,"div",25)(42,"div",26)(43,"div",27)(44,"span",6),l(45),a()(),o(46,"div")(47,"h3",28),l(48),a(),o(49,"p",29),l(50),a()()(),v(51,En,3,2,"div",23),a()(),o(52,"section",24)(53,"h2",30),l(54,"Chapters"),a(),o(55,"div",31),v(56,Tn,18,6,"div",32),a()(),o(57,"section",24)(58,"h2",30),l(59,"Popular Languages"),a(),o(60,"div",33)(61,"a",34)(62,"span",35),l(63,"English"),a()(),o(64,"a",34)(65,"span",35),l(66,"Marathi"),a()(),o(67,"a",34)(68,"span",35),l(69,"Bengali"),a()(),o(70,"a",34)(71,"span",35),l(72,"Malayalam"),a()(),o(73,"a",34)(74,"span",35),l(75,"Kannada"),a()(),o(76,"a",34)(77,"span",35),l(78,"Telugu"),a()(),o(79,"a",34)(80,"span",35),l(81,"Tamil"),a()()()(),o(82,"section",24)(83,"h2",30),l(84,"Top Genre"),a(),o(85,"div",36)(86,"a",37)(87,"span",35),l(88,"Romance"),a()(),o(89,"a",37)(90,"span",35),l(91,"Suspense"),a()(),o(92,"a",37)(93,"span",35),l(94,"Drama"),a()(),o(95,"a",37)(96,"span",35),l(97,"Horror"),a()()()(),o(98,"section",24)(99,"h2",30),l(100,"Top Content"),a(),o(101,"div",38)(102,"a",39)(103,"h3",35),l(104,"Top Hindi Kahaniyan"),a()(),o(105,"a",39)(106,"h3",35),l(107,"Best Hindi Short Stories"),a()(),o(108,"a",39)(109,"h3",35),l(110,"Popular Hindi Stories"),a()(),o(111,"a",39)(112,"h3",35),l(113,"Top Motivational Hindi Stories"),a()(),o(114,"a",39)(115,"h3",35),l(116,"Top Short Hindi Stories"),a()(),o(117,"a",39)(118,"h3",35),l(119,"Sad Stories in Hindi"),a()(),o(120,"a",39)(121,"h3",35),l(122,"Horror Hindi Stories"),a()()()()()),i&2&&(u(10),w("ngIf",r.storyDetail),u(3),M(r.storyDetail.categoryName),u(),w("ngIf",r.storyDetail),u(14),M(r.formatTotalReadTime(r.getTotalReadingTime())),u(4),z("",r.getTotalViews()," Reader"),u(),w("ngIf",r.libraryMessage),u(4),w("title",r.likedStories.includes(r.storyDetail.id)?"Remove from Library":"Add to Library"),u(),w("ngIf",r.likedStories.includes(r.storyDetail.id)),u(),w("ngIf",!r.likedStories.includes(r.storyDetail.id)),u(6),M(r.storyDetail.author_name?r.storyDetail.author_name.charAt(0):"U"),u(3),M(r.storyDetail.author_name||"Unknown Author"),u(2),z("",r.formatCount(r.followerCount)," followers"),u(),w("ngIf",r.storyDetail&&r.storyDetail.author_id!==r.userId),u(5),w("ngForOf",r.stories))},dependencies:[K,H,Ie,se,q],styles:[".frontstoryimg[_ngcontent-%COMP%]{width:184px;height:288px;display:inline-block;margin-right:30px}.frontstoryimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.mainstorybox[_ngcontent-%COMP%]{width:600px;margin:0 auto}.storyDetails[_ngcontent-%COMP%]{display:inline-block;width:385px}.rightborder[_ngcontent-%COMP%]{border-right:1px solid #ccc}.smallhome[_ngcontent-%COMP%]{color:#b5b5b5;font-size:13px;text-align:center}.smallhome[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#b5b5b5}.storyDetails[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:30px}.smallhome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:600}.Sz3nA[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;overflow:visible}.Sz3nA[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px}.af6dp[_ngcontent-%COMP%]{font-size:18px;line-height:24px;margin-left:8px;overflow:hidden;padding:2px 12px 2px 0;text-overflow:ellipsis;white-space:nowrap}.SjGa2[_ngcontent-%COMP%]{color:var(--ds-neutral-100-solid)}.avatar__Ygp0_[_ngcontent-%COMP%]{border-radius:50%;display:block;background-color:#eee}.dHyYa[_ngcontent-%COMP%]{display:flex;padding-top:12px}._2-rOR[_ngcontent-%COMP%]:first-child{margin-left:4px}.solid-variant__RGER9.base-3-accent__Xrbrb[_ngcontent-%COMP%]{color:#fff;background-color:#1c6f65}.OPdNU[_ngcontent-%COMP%]{padding-left:8px}.solid-variant__RGER9.base-4-accent__JqbdI[_ngcontent-%COMP%]{color:#fff;background-color:#9e1d42}.pill__pziVI.default-size__BJ5Po[_ngcontent-%COMP%]{padding:4px 8px}.pill__pziVI.square-shape__V66Yy[_ngcontent-%COMP%]{border-radius:6px}.typography-label-small-semi[_ngcontent-%COMP%]{font-size:14px;line-height:16px}.storyDescription[_ngcontent-%COMP%]{margin:30px 0}.copyright[_ngcontent-%COMP%]{font-size:16px}.tags[_ngcontent-%COMP%]{margin:20px 0}.tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#e2e2e2;color:#000;font-size:16px;padding:5px 10px;border-radius:100px;margin:5px}.tablecontent[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:15px;border:1px solid #ccc}.tablecontent[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.chapter[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.chapter[_ngcontent-%COMP%]{margin:0;padding:0}.chapter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;line-height:50px;width:100%;display:block}.chapter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f1f1f1}.following[_ngcontent-%COMP%]{padding:14px 20px;background:rgb(229 231 235 / var(--tw-bg-opacity, 1));border-radius:100px;display:inline-block;margin-left:-23px;border:1px solid #d5d7dc}.followers[_ngcontent-%COMP%]{display:inline-block}"]})}}return t})();function kn(t,n){t&1&&(o(0,"span",59),l(1,"\u2714 Available"),a())}function In(t,n){t&1&&(o(0,"span",60),l(1,"\u2716 Email already registered"),a())}function Mn(t,n){if(t&1&&(o(0,"div"),v(1,kn,2,0,"span",57)(2,In,2,0,"span",58),a()),t&2){let e=C();u(),w("ngIf",e.emailStatus==="available"),u(),w("ngIf",e.emailStatus==="taken")}}function Pn(t,n){t&1&&(o(0,"span",59),l(1,"\u2714 Available"),a())}function An(t,n){t&1&&(o(0,"span",60),l(1,"\u2716 Username already exists"),a())}function Fn(t,n){if(t&1&&(o(0,"div"),v(1,Pn,2,0,"span",57)(2,An,2,0,"span",58),a()),t&2){let e=C();u(),w("ngIf",e.usernameStatus==="available"),u(),w("ngIf",e.usernameStatus==="taken")}}function On(t,n){if(t&1&&(o(0,"li"),l(1),a()),t&2){let e=n.$implicit;u(),M(e)}}function Ln(t,n){if(t&1&&(o(0,"div",61),l(1,"Password must contain: "),o(2,"ul",62),v(3,On,2,1,"li",63),a()()),t&2){let e=C();u(3),w("ngForOf",e.passwordErrors)}}function Dn(t,n){if(t&1&&(o(0,"li"),l(1),a()),t&2){let e=n.$implicit;u(),M(e)}}function zn(t,n){if(t&1&&(o(0,"div",64)(1,"ul",65),v(2,Dn,2,1,"li",63),a()()),t&2){let e=C();u(2),w("ngForOf",e.submissionErrors)}}var yi=(()=>{class t{constructor(e,i,r){this.fb=e,this.http=i,this.router=r,this.passwordErrors=[],this.usernameStatus=null,this.emailStatus=null,this.submissionErrors=[],this.signupForm=this.fb.group({first_name:["",[Y.required]],email:["",[Y.required,Y.email]],username:["",[Y.required]],password:["",[Y.required]],terms:[!1,[Y.requiredTrue]]}),this.signupForm.get("username")?.valueChanges.pipe(Je(500),et(s=>this.checkUsername(s))).subscribe(s=>{this.usernameStatus=s.exists?"taken":"available"}),this.signupForm.get("email")?.valueChanges.pipe(Je(500),et(s=>this.checkEmail(s))).subscribe(s=>{this.emailStatus=s.exists?"taken":"available"})}checkPasswordStrength(e){let i=[];return/[A-Z]/.test(e)||i.push("at least one uppercase letter"),/[a-z]/.test(e)||i.push("at least one lowercase letter"),/[0-9]/.test(e)||i.push("at least one number"),/[^A-Za-z0-9]/.test(e)||i.push("at least one special character"),e.length<8&&i.push("at least 8 characters long"),i}onPasswordInput(){let e=this.signupForm.get("password")?.value||"";this.passwordErrors=this.checkPasswordStrength(e)}onSubmit(){if(this.submissionErrors=[],this.signupForm.get("first_name")?.invalid&&this.submissionErrors.push("Full name is required"),this.signupForm.get("email")?.invalid&&this.submissionErrors.push("Valid email is required"),this.emailStatus==="taken"&&this.submissionErrors.push("Email already exists"),this.signupForm.get("username")?.invalid&&this.submissionErrors.push("Username is required"),this.usernameStatus==="taken"&&this.submissionErrors.push("Username already exists"),(this.signupForm.get("password")?.invalid||this.passwordErrors.length)&&this.submissionErrors.push("Password must meet all strength requirements"),this.signupForm.get("terms")?.value||this.submissionErrors.push("Please accept Terms and Conditions"),this.submissionErrors.length)return;let e=this.signupForm.value;this.http.post("https://hyperblah.com/funtelapi/signup.php",e,{withCredentials:!0}).subscribe({next:i=>{this.router.navigate(["login"])},error:()=>{this.submissionErrors=["Signup failed. Please try again."]}})}checkUsername(e){return this.http.post("https://hyperblah.com/funtelapi/signup.php",{check_username:!0,username:e},{withCredentials:!0})}checkEmail(e){return this.http.post("https://hyperblah.com/funtelapi/signup.php",{check_email:!0,email:e},{withCredentials:!0})}static{this.\u0275fac=function(i){return new(i||t)(P(xe),P(X),P(Q))}}static{this.\u0275cmp=B({type:t,selectors:[["app-signup"]],standalone:!0,features:[G],decls:96,vars:5,consts:[[1,"auth-container","flex","flex-col","lg:flex-row"],[1,"hidden","lg:flex","lg:w-1/2","bg-gradient-to-br","from-wattpad-primary","to-wattpad-secondary","items-center","justify-center","p-12"],[1,"max-w-md","text-center","text-white"],[1,"text-4xl","font-bold","mb-6"],[1,"text-lg","mb-8"],[1,"flex","justify-center","space-x-4"],[1,"bg-white/20","p-3","rounded-full"],[1,"fas","fa-pen-fancy","text-xl"],[1,"fas","fa-globe","text-xl"],[1,"fas","fa-trophy","text-xl"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","p-6","lg:p-12"],[1,"w-full","max-w-md"],[1,"text-center","lg:hidden","mb-8"],[1,"text-3xl","font-bold","text-wattpad-primary","mb-2"],[1,"text-wattpad-light"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","p-6","lg:p-8"],[1,"text-2xl","font-bold","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","first-name",1,"block","text-sm","font-medium","mb-2"],["type","text","id","first-name","formControlName","first_name","placeholder","First name",1,"w-full","px-4","py-3","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["for","email",1,"block","text-sm","font-medium","mb-2"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"w-full","px-4","py-3","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],[4,"ngIf"],["for","username",1,"block","text-sm","font-medium","mb-2"],["type","text","id","username","formControlName","username","placeholder","Choose a username",1,"w-full","px-4","py-3","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["for","password",1,"block","text-sm","font-medium","mb-2"],["type","password","id","password","formControlName","password","placeholder","Create a password",1,"w-full","px-4","py-3","rounded-lg","border","border-gray-300","dark:border-gray-700","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700",3,"input"],[1,"text-xs","text-wattpad-light","mt-1"],["class","text-xs text-red-500 mt-1",4,"ngIf"],[1,"mb-6"],[1,"flex","items-center"],["type","checkbox","id","terms","formControlName","terms",1,"rounded","border-gray-300","text-wattpad-primary","focus:ring-wattpad-primary","dark:border-gray-600","dark:bg-gray-700"],["for","terms",1,"ml-2","text-sm","text-wattpad-light"],["href","#",1,"text-wattpad-primary","hover:underline"],["type","submit",1,"w-full","bg-wattpad-primary","text-white","py-3","px-4","rounded-lg","font-medium","hover:bg-[#E5274B]","transition-colors","mb-4"],["class","mb-4 text-red-600 text-sm",4,"ngIf"],[1,"flex","items-center","justify-center","mb-6"],[1,"border-t","border-gray-300","dark:border-gray-600","flex-grow"],[1,"px-3","text-sm","text-wattpad-light"],[1,"grid","grid-cols-2","gap-3","mb-6"],["type","button",1,"flex","items-center","justify-center","py-2","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"fab","fa-google","text-wattpad-primary","mr-2"],[1,"text-sm"],[1,"fab","fa-facebook-f","text-wattpad-primary","mr-2"],[1,"text-center","text-sm"],["href","login",1,"text-wattpad-primary","font-medium","hover:underline","ml-1"],[1,"bottom-nav","fixed","bottom-0","left-0","right-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","lg:hidden"],[1,"flex","justify-around","items-center","h-full"],["href","index4.html",1,"text-gray-500","dark:text-gray-400","flex","flex-col","items-center"],[1,"fas","fa-home","text-xl"],[1,"text-xs","mt-1"],["href","#",1,"text-gray-500","dark:text-gray-400","flex","flex-col","items-center"],[1,"fas","fa-search","text-xl"],[1,"fas","fa-bookmark","text-xl"],["href","#",1,"text-wattpad-primary","flex","flex-col","items-center"],[1,"fas","fa-user","text-xl"],["class","text-green-500",4,"ngIf"],["class","text-red-500",4,"ngIf"],[1,"text-green-500"],[1,"text-red-500"],[1,"text-xs","text-red-500","mt-1"],[1,"list-disc","pl-4"],[4,"ngFor","ngForOf"],[1,"mb-4","text-red-600","text-sm"],[1,"list-disc","pl-5"]],template:function(i,r){if(i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Join Funtel"),a(),o(5,"p",4),l(6,"Discover and share amazing stories with a community of millions."),a(),o(7,"div",5)(8,"div",6),f(9,"i",7),a(),o(10,"div",6),f(11,"i",8),a(),o(12,"div",6),f(13,"i",9),a()()()(),o(14,"div",10)(15,"div",11)(16,"div",12)(17,"h1",13),l(18,"StoryVerse"),a(),o(19,"p",14),l(20,"Create your free account"),a()(),o(21,"div",15)(22,"h2",16),l(23,"Sign Up"),a(),o(24,"form",17),k("ngSubmit",function(){return r.onSubmit()}),o(25,"div",18)(26,"label",19),l(27,"First Name"),a(),f(28,"input",20),a(),o(29,"div",18)(30,"label",21),l(31,"Email"),a(),f(32,"input",22),v(33,Mn,3,2,"div",23),a(),o(34,"div",18)(35,"label",24),l(36,"Username"),a(),f(37,"input",25),v(38,Fn,3,2,"div",23),a(),o(39,"div",18)(40,"label",26),l(41,"Password"),a(),o(42,"input",27),k("input",function(){return r.onPasswordInput()}),a(),o(43,"p",28),l(44,"Use 8 or more characters with a mix of letters, numbers & symbols"),a(),v(45,Ln,4,1,"div",29),a(),o(46,"div",30)(47,"div",31),f(48,"input",32),o(49,"label",33),l(50," I agree to the "),o(51,"a",34),l(52,"Terms"),a(),l(53," and "),o(54,"a",34),l(55,"Privacy Policy"),a()()()(),o(56,"button",35),l(57," Create Account "),a(),v(58,zn,3,1,"div",36),o(59,"div",37),f(60,"div",38),o(61,"span",39),l(62,"or"),a(),f(63,"div",38),a(),o(64,"div",40)(65,"button",41),f(66,"i",42),o(67,"span",43),l(68,"Google"),a()(),o(69,"button",41),f(70,"i",44),o(71,"span",43),l(72,"Facebook"),a()()(),o(73,"div",45)(74,"span",14),l(75,"Already have an account?"),a(),o(76,"a",46),l(77,"Log in"),a()()()()()()(),o(78,"nav",47)(79,"div",48)(80,"a",49),f(81,"i",50),o(82,"span",51),l(83,"Home"),a()(),o(84,"a",52),f(85,"i",53),o(86,"span",51),l(87,"Search"),a()(),o(88,"a",52),f(89,"i",54),o(90,"span",51),l(91,"Library"),a()(),o(92,"a",55),f(93,"i",56),o(94,"span",51),l(95,"Profile"),a()()()()),i&2){let s,d;u(24),w("formGroup",r.signupForm),u(9),w("ngIf",(s=r.signupForm.get("email"))==null?null:s.dirty),u(5),w("ngIf",(d=r.signupForm.get("username"))==null?null:d.dirty),u(7),w("ngIf",r.passwordErrors.length),u(13),w("ngIf",r.submissionErrors.length)}},dependencies:[ue,me,ae,jt,le,ce,ge,he,H,se,q]})}}return t})();var xt=(t,n)=>({"border-green-500":t,"border-red-500":n}),vi=(t,n)=>({"text-green-600":t,"text-red-500":n});function Nn(t,n){t&1&&(o(0,"div",35)(1,"div",36),l(2,"Loading..."),a()())}function Rn(t,n){if(t&1&&(o(0,"div",37),l(1),a()),t&2){let e=C();u(),z(" ",e.formMessage," ")}}function jn(t,n){t&1&&(o(0,"div",38),l(1," Name is required "),a())}function Vn(t,n){t&1&&(o(0,"div",38),l(1," Username is required "),a())}function Bn(t,n){t&1&&(o(0,"div",38),l(1," Enter a valid email "),a())}function Gn(t,n){t&1&&(o(0,"li"),l(1," Must include at least 1 uppercase letter "),a())}function Hn(t,n){t&1&&(o(0,"li"),l(1," Must include at least 1 lowercase letter "),a())}function $n(t,n){t&1&&(o(0,"li"),l(1," Must include at least 1 number "),a())}function Un(t,n){t&1&&(o(0,"li"),l(1," Must include at least 1 special character "),a())}function Yn(t,n){t&1&&(o(0,"li"),l(1," Must be at least 8 characters long "),a())}function Wn(t,n){if(t&1&&(o(0,"ul"),v(1,Gn,2,0,"li",39)(2,Hn,2,0,"li",39)(3,$n,2,0,"li",39)(4,Un,2,0,"li",39)(5,Yn,2,0,"li",39),a()),t&2){let e=C().ngIf;u(),w("ngIf",e.errors.uppercase),u(),w("ngIf",e.errors.lowercase),u(),w("ngIf",e.errors.number),u(),w("ngIf",e.errors.special),u(),w("ngIf",e.errors.minlength)}}function qn(t,n){if(t&1&&(Et(0),v(1,Wn,6,5,"ul",39),Tt()),t&2){let e=n.ngIf;u(),w("ngIf",e.errors)}}function Xn(t,n){if(t&1&&(o(0,"div",38),v(1,qn,2,1,"ng-container",39),a()),t&2){let e=C();u(),w("ngIf",e.profileForm.get("new_password"))}}var Si=(()=>{class t{constructor(e,i){this.fb=e,this.http=i,this.userNameInitial="",this.userId=sessionStorage.getItem("userId"),this.currentPasswordError="",this.confirmPasswordError="",this.successMessage="",this.errorMessage="",this.loading=!1,this.formMessage=""}ngOnInit(){this.profileForm=this.fb.group({name:["",[Y.required,Y.minLength(2)]],email:["",[Y.required,Y.email]],username:["",[Y.required,Y.minLength(3)]],mobile:["",[Y.pattern(/^\d{10}$/)]],about:["",[Y.maxLength(500)]],language:["English"],current_password:[""],new_password:["",this.strongPasswordValidator.bind(this)],confirm_password:[""]}),this.userId&&(this.loading=!0,this.http.get("https://hyperblah.com/funtelapi/signup.php?get_user=true&id="+this.userId).subscribe({next:e=>{e.status==="success"&&e.data&&(this.profileForm.patchValue({name:e.data.name||"",email:e.data.email||"",username:e.data.username||"",mobile:e.data.mobile||"",about:e.data.about||"",language:e.data.language||"English"}),this.userNameInitial=e.data.name?e.data.name.charAt(0).toUpperCase():""),this.loading=!1},error:()=>{this.errorMessage="Failed to load user data",this.loading=!1}}))}onSubmit(){this.currentPasswordError="",this.confirmPasswordError="",this.successMessage="",this.errorMessage="";let e=this.profileForm.value;if(!this.userId)return;if((e.new_password||e.confirm_password||e.current_password)&&e.new_password!==e.confirm_password){this.confirmPasswordError="New password and confirm password do not match";return}let i={update_profile:!0,user_id:this.userId,name:e.name,email:e.email,username:e.username,mobile:e.mobile,about:e.about,language:e.language,current_password:e.current_password,new_password:e.new_password,confirm_password:e.confirm_password};this.loading=!0,this.http.post("https://hyperblah.com/funtelapi/signup.php",i,{withCredentials:!0}).subscribe({next:r=>{this.loading=!1,r.status==="success"?(this.successMessage=r.message,this.formMessage=r.message,setTimeout(()=>{this.formMessage=""},3e3)):r.message.includes("Current password is incorrect")?this.currentPasswordError=r.message:r.message.includes("New password and Confirm password do not match")?this.confirmPasswordError=r.message:this.errorMessage=r.message},error:()=>{this.loading=!1,this.errorMessage="Something went wrong. Please try again."}})}onCurrentPasswordBlur(){let e=this.profileForm.get("current_password")?.value;e&&e.length>3?this.currentPasswordError="\u2714 Will be verified on save":e?this.currentPasswordError="\u274C Password too short":this.currentPasswordError=""}onPasswordChange(){let e=this.profileForm.get("new_password")?.value,i=this.profileForm.get("confirm_password")?.value;e&&i&&e!==i?this.confirmPasswordError="\u274C Passwords do not match":e&&i&&e===i?this.confirmPasswordError="\u2714 Passwords match":this.confirmPasswordError=""}validateCurrentPassword(){let e=this.profileForm.get("current_password")?.value;if(!e||!this.userId){this.currentPasswordError="";return}this.http.post("https://hyperblah.com/funtelapi/signup.php",{check_current_password:!0,user_id:this.userId,current_password:e},{withCredentials:!0}).subscribe({next:i=>{i.status==="success"?this.currentPasswordError="\u2714 Password is correct":this.currentPasswordError="\u274C Incorrect current password"},error:()=>{this.currentPasswordError="\u274C Error verifying password"}})}strongPasswordValidator(e){let i=e.value||"",r={};return/[A-Z]/.test(i)||(r.uppercase=!0),/[a-z]/.test(i)||(r.lowercase=!0),/[0-9]/.test(i)||(r.number=!0),/[!@#$%^&*(),.?":{}|<>]/.test(i)||(r.special=!0),i.length<8&&(r.minlength=!0),Object.keys(r).length>0?r:null}static{this.\u0275fac=function(i){return new(i||t)(P(xe),P(X))}}static{this.\u0275cmp=B({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[G],decls:86,vars:32,consts:[[1,"container","mx-auto","px-0","lg:px-6","pb-20"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],["class","fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow z-50",4,"ngIf"],[1,"relative","h-48","lg:h-64","bg-gradient-to-r","from-purple-500","to-pink-500"],[1,"cover-edit-btn","hover:bg-black/60","transition-colors"],[1,"fas","fa-camera","text-sm"],[1,"px-4","lg:px-8"],[1,"relative","-mt-16","lg:-mt-20","inline-block"],[1,"profile-avatar","w-32","h-32","lg:w-40","lg:h-40","rounded-full","bg-white","dark:bg-gray-700","flex","items-center","justify-center","overflow-hidden"],[1,"text-4xl","text-gray-500","dark:text-gray-400"],[1,"avatar-edit-btn","hover:bg-black/60","transition-colors"],[1,"fas","fa-camera","text-xs"],[1,"px-4","lg:px-8","mt-6"],[3,"ngSubmit","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-6","shadow-sm","mb-6"],[1,"text-xl","font-bold","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"block","text-sm","font-medium","mb-1"],["type","text","formControlName","name",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","text","formControlName","username",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["formControlName","language",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],[1,"mt-6"],["rows","4","formControlName","about",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],["type","email","formControlName","email",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-gray-500"],["type","tel","formControlName","mobile",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-wattpad-primary","focus:border-transparent","dark:bg-gray-700"],[1,"space-y-4"],["type","password","formControlName","current_password",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none",3,"blur","ngClass"],[1,"text-sm","mt-1",3,"ngClass"],["type","password","formControlName","new_password",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none",3,"input","ngClass"],["type","password","formControlName","confirm_password",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none",3,"input","ngClass"],[1,"flex","justify-end"],["type","submit",1,"px-6","py-2","rounded-full","font-medium","bg-wattpad-primary","text-white","hover:bg-[#E5274B]","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","p-6","rounded-lg","shadow-lg"],[1,"fixed","top-4","right-4","bg-green-500","text-white","px-4","py-2","rounded","shadow","z-50"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"]],template:function(i,r){if(i&1&&(f(0,"app-header"),o(1,"main",0),v(2,Nn,3,0,"div",1)(3,Rn,2,1,"div",2),o(4,"div",3)(5,"button",4),f(6,"i",5),a()(),o(7,"div",6)(8,"div",7)(9,"div",8)(10,"span",9),l(11),a()(),o(12,"button",10),f(13,"i",11),a()()(),o(14,"div",12)(15,"form",13),k("ngSubmit",function(){return r.onSubmit()}),o(16,"div",14)(17,"h2",15),l(18,"Basic Information"),a(),o(19,"div",16)(20,"div")(21,"label",17),l(22,"Full Name"),a(),f(23,"input",18),v(24,jn,2,0,"div",19),a(),o(25,"div")(26,"label",17),l(27,"Username"),a(),f(28,"input",20),v(29,Vn,2,0,"div",19),a(),o(30,"div")(31,"label",17),l(32,"Language"),a(),o(33,"select",21)(34,"option"),l(35,"English"),a(),o(36,"option"),l(37,"Hindi"),a(),o(38,"option"),l(39,"Spanish"),a(),o(40,"option"),l(41,"French"),a()()()(),o(42,"div",22)(43,"label",17),l(44,"About Me"),a(),f(45,"textarea",23),a()(),o(46,"div",14)(47,"h2",15),l(48,"Private Information"),a(),o(49,"div",16)(50,"div")(51,"label",17),l(52,"Email"),a(),f(53,"input",24),v(54,Bn,2,0,"div",19),a(),o(55,"div")(56,"label",17),l(57,"Mobile Number"),a(),o(58,"div",25)(59,"span",26),l(60,"+91"),a(),f(61,"input",27),a()()()(),o(62,"div",14)(63,"h2",15),l(64,"Change Password"),a(),o(65,"div",28)(66,"div")(67,"label",17),l(68,"Current Password"),a(),o(69,"input",29),k("blur",function(){return r.validateCurrentPassword()}),a(),o(70,"div",30),l(71),a()(),o(72,"div")(73,"label",17),l(74,"New Password"),a(),o(75,"input",31),k("input",function(){return r.onPasswordChange()}),a(),v(76,Xn,2,1,"div",19),a(),o(77,"div")(78,"label",17),l(79,"Confirm Password"),a(),o(80,"input",32),k("input",function(){return r.onPasswordChange()}),a(),o(81,"div",30),l(82),a()()()(),o(83,"div",33)(84,"button",34),l(85),a()()()()()),i&2){let s,d,p,c;u(2),w("ngIf",r.loading),u(),w("ngIf",r.formMessage),u(8),M(r.userNameInitial),u(4),w("formGroup",r.profileForm),u(9),w("ngIf",((s=r.profileForm.get("name"))==null?null:s.touched)&&((s=r.profileForm.get("name"))==null?null:s.invalid)),u(5),w("ngIf",((d=r.profileForm.get("username"))==null?null:d.touched)&&((d=r.profileForm.get("username"))==null?null:d.invalid)),u(25),w("ngIf",((p=r.profileForm.get("email"))==null?null:p.touched)&&((p=r.profileForm.get("email"))==null?null:p.invalid)),u(15),w("ngClass",pe(17,xt,r.currentPasswordError.includes("\u2714"),r.currentPasswordError.includes("\u274C"))),u(),w("ngClass",pe(20,vi,r.currentPasswordError.includes("\u2714"),r.currentPasswordError.includes("\u274C"))),u(),z(" ",r.currentPasswordError," "),u(4),w("ngClass",pe(23,xt,r.confirmPasswordError.includes("\u2714"),r.confirmPasswordError.includes("\u274C"))),u(),w("ngIf",((c=r.profileForm.get("new_password"))==null?null:c.touched)||((c=r.profileForm.get("new_password"))==null?null:c.dirty)),u(4),w("ngClass",pe(26,xt,r.confirmPasswordError.includes("\u2714"),r.confirmPasswordError.includes("\u274C"))),u(),w("ngClass",pe(29,vi,r.confirmPasswordError.includes("\u2714"),r.confirmPasswordError.includes("\u274C"))),u(),z(" ",r.confirmPasswordError," "),u(2),w("disabled",r.profileForm.invalid||r.loading),u(),z(" ",r.loading?"Saving...":"Save Changes"," ")}},dependencies:[H,Ie,q,we,me,Ye,We,ae,Ue,le,ce,ue,ge,he,K],styles:[".cover-edit-btn[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:#00000080;color:#fff;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center}.avatar-edit-btn[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:#00000080;color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center}"]})}}return t})();function Qn(t,n){t&1&&(o(0,"h1",9),l(1,"Search Result"),a())}function Kn(t,n){t&1&&(o(0,"h1",9),l(1,"Category"),a())}function Zn(t,n){t&1&&(o(0,"div",10)(1,"button",11),f(2,"i",12),l(3," Filter "),a(),o(4,"button",11),f(5,"i",13),l(6," Sort "),a()())}function Jn(t,n){if(t&1&&f(0,"img",31),t&2){let e=C().$implicit;w("src","https://hyperblah.com/funtelapi/"+e.story_image,fe)}}function eo(t,n){if(t&1){let e=W();o(0,"div",16),k("click",function(){let r=$(e).$implicit,s=C(2);return U(s.goToSeries(r.id,r.story_title))}),o(1,"div",17)(2,"div",18),v(3,Jn,1,1,"img",19),a(),o(4,"div",20)(5,"div",21),f(6,"div",22),a()()(),o(7,"div",23)(8,"h3",24),l(9),a(),o(10,"p",25),l(11),a(),o(12,"div",26)(13,"span",27),f(14,"i",28),l(15),a(),o(16,"span",29),f(17,"i",30),l(18," 4.8 "),a()()()()}if(t&2){let e=n.$implicit,i=C(2);u(3),w("ngIf",e.story_image),u(6),M(e.story_title),u(2),Ae("By ",e.author_name," \u2022 ",i.formatDate(e.story_created_at),"."),u(4),z(" ",e.views||0," Reads ")}}function to(t,n){if(t&1&&(o(0,"div",14),v(1,eo,19,5,"div",15),a()),t&2){let e=C();u(),w("ngForOf",e.stories)}}function io(t,n){if(t&1){let e=W();o(0,"div",37),k("click",function(){let r=$(e).$implicit,s=C(2);return U(s.goToSeries(r.id,r.story_title))}),o(1,"div",17)(2,"div",38)(3,"span",39),l(4),a()(),o(5,"button",40),f(6,"i",41),a()(),o(7,"div",42)(8,"div",43)(9,"h3",44),l(10),a(),o(11,"span",45),l(12),a()(),o(13,"p",46),l(14),a(),o(15,"p",25),l(16),a()()()}if(t&2){let e=n.$implicit;u(4),M(e.story_title),u(6),M(e.story_title),u(2),z(" ",e.views||0," views "),u(2),M(e.description),u(2),z("By ",e.author_name," ")}}function ro(t,n){if(t&1&&(o(0,"div",32)(1,"div",33)(2,"h2",34),l(3,"Related Lists"),a()(),o(4,"div",35),v(5,io,17,5,"div",36),a()()),t&2){let e=C();u(5),w("ngForOf",e.relatedStories)}}function no(t,n){if(t&1&&f(0,"img",63),t&2){let e=C().$implicit;w("src",e.image,fe)}}function oo(t,n){if(t&1&&(o(0,"div",54)(1,"div",55),v(2,no,1,1,"img",56),a(),o(3,"div",57)(4,"div",58)(5,"div")(6,"h3",59),l(7),a(),o(8,"p",60),l(9),a()(),o(10,"span",60),l(11),a()(),o(12,"div",61)(13,"div",62)(14,"span"),l(15),a(),o(16,"span"),l(17),a()(),o(18,"div",21),f(19,"div",22),a()()()()),t&2){let e=n.$implicit;u(2),w("ngIf",e.image),u(5),M(e.title),u(2),z("By ",e.name,""),u(2),M(e.timestamp),u(4),M(e.title),u(2),z("",e.percent,"%")}}function so(t,n){if(t&1){let e=W();o(0,"div",64)(1,"button",65),k("click",function(){$(e);let r=C(2);return U(r.loadMoreHistory())}),l(2," Load More "),a()()}}function ao(t,n){if(t&1){let e=W();o(0,"div",47)(1,"div",33)(2,"h2",34),l(3,"Your Reading History"),a(),o(4,"button",48),k("click",function(){$(e);let r=C();return U(r.clearHistory())}),f(5,"i",49),l(6," Clear History "),a()(),o(7,"div",50)(8,"div",51),v(9,oo,20,6,"div",52),a(),v(10,so,3,0,"div",53),a()()}if(t&2){let e=C();u(9),w("ngForOf",e.userProgress.slice(0,e.visibleHistoryCount)),u(),w("ngIf",e.userProgress.length>e.visibleHistoryCount)}}var wt=(()=>{class t{constructor(e,i,r){this.route=e,this.http=i,this.router=r,this.isLoggedIn=!1,this.stories=[],this.categoryId=null,this.filteredSuggestions=[],this.isLoading=!0,this.errorMessage="",this.searchText="",this.relatedStories=[],this.userProgress=[],this.userId=null,this.displayCount=1,this.visibleHistoryCount=1}ngOnInit(){let e=sessionStorage.getItem("userId");this.userId=e,this.isLoggedIn=!!e,this.route.paramMap.subscribe(i=>{this.categoryId=i.get("id");let r=this.route.snapshot.queryParamMap.get("q");r?(this.fetchSearchResults(r),this.loadUserStoryProgress()):this.categoryId&&(this.fetchCategoryStories(this.categoryId),this.loadUserStoryProgress())})}loadMoreHistory(){this.visibleHistoryCount<this.userProgress.length&&(console.log("this.userProgress.length",this.userProgress.length),this.visibleHistoryCount+=1)}fetchSearchResults(e){this.searchText=e,this.isLoading=!0;let i=`https://hyperblah.com/funtelapi/allstory.php?q=${encodeURIComponent(e)}`;this.http.get(i).subscribe({next:r=>{r.status==="success"?(this.stories=r.data,this.relatedStories=this.getRandomRelatedStories(this.stories,3),console.log("relatedStories",this.relatedStories)):this.errorMessage=r.message||"No matching stories found.",this.isLoading=!1},error:()=>{this.errorMessage="Failed to load search results.",this.isLoading=!1}})}onSearchSubmit(e){e.preventDefault();let i=this.searchText.trim();i&&(this.filteredSuggestions=[],this.router.navigate(["/search"],{queryParams:{q:i}}))}fetchCategoryStories(e){this.isLoading=!0,this.http.get(`https://hyperblah.com/funtelapi/allstory.php?category_id=${e}`).subscribe({next:i=>{i.status==="success"?(this.stories=i.data,this.relatedStories=this.getRandomRelatedStories(this.stories,3)):this.errorMessage=i.message||"No stories found.",this.isLoading=!1},error:()=>{this.errorMessage="Failed to load category stories.",this.isLoading=!1}})}formatDate(e){let i=new Date(e);return isNaN(i.getTime())?"":i.toDateString()}goToSeries(e,i){let r=this.slugify(i);this.router.navigate(["/story",`${e}-${r}`])}slugify(e){return e.toLowerCase().trim().replace(/[\s\W-]+/g,"-").replace(/^-+|-+$/g,"")}getRandomRelatedStories(e,i){return[...e].sort(()=>.5-Math.random()).slice(0,i)}resumeReading(e,i){let r=i.toLowerCase().replace(/\s+/g,"-");this.router.navigate(["/series",`${e}-${r}`])}loadUserStoryProgress(){let i=`story_progress_${sessionStorage.getItem("userId")}`,r=localStorage.getItem(i);if(r){let s=JSON.parse(r),d=Object.entries(s);this.userProgress=[];for(let[p,c]of Object.entries(s)){let m=Math.round(c.readParts.length/c.totalParts*100);this.http.get(`https://hyperblah.com/funtelapi/allstory.php?id=${p}`).subscribe({next:g=>{if(g.status==="success"&&g.data?.length){let h=g.data.find(x=>x.id==+p);this.userProgress.push({storyId:p,title:c.lastPartTitle,lastReadPartId:c.lastReadPartId,percent:m,part:c.readParts.length,total:c.totalParts,timestamp:c.timestamp,image:`https://hyperblah.com/funtelapi/${h.story_image}`,name:h.author_name}),console.log("userProgress",this.userProgress),this.userProgress.sort((x,b)=>b.timestamp-x.timestamp)}},error:g=>{console.error(`Failed to fetch story info for storyId ${p}`,g)}})}}}clearHistory(){let i=`story_progress_${sessionStorage.getItem("userId")}`;localStorage.removeItem(i)}static{this.\u0275fac=function(i){return new(i||t)(P(ie),P(X),P(Q))}}static{this.\u0275cmp=B({type:t,selectors:[["app-search-result"]],standalone:!0,features:[G],decls:12,vars:6,consts:[[1,"container","mx-auto","px-4","py-6","lg:px-6","lg:py-8"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","mb-6","lg:mb-8"],["class","text-2xl lg:text-3xl font-bold",4,"ngIf"],["class","mt-4 lg:mt-0 flex space-x-3",4,"ngIf"],["id","saved-tab",1,"tab-content","active"],[1,"mb-6"],["class","grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 lg:gap-6",4,"ngIf"],["id","reading-lists-tab","class","tab-content mb-6",4,"ngIf"],["id","history-tab","class","tab-content",4,"ngIf"],[1,"text-2xl","lg:text-3xl","font-bold"],[1,"mt-4","lg:mt-0","flex","space-x-3"],[1,"px-4","py-2","rounded-full","font-medium","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"fas","fa-sliders-h","mr-2"],[1,"fas","fa-sort","mr-2"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4","lg:gap-6"],["class","story-card bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden pointer",3,"click",4,"ngFor","ngForOf"],[1,"story-card","bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","overflow-hidden","pointer",3,"click"],[1,"relative"],[1,"story-cover","aspect-[4/4]","bg-gray-200","dark:bg-gray-700","overflow-hidden"],["class","w-full h-40 object-cover rounded mb-3",3,"src",4,"ngIf"],[1,"absolute","bottom-0","left-0","right-0","p-2","bg-gradient-to-t","from-black/70","to-transparent"],[1,"reading-progress","w-full"],[1,"reading-progress-bar",2,"width","65%"],[1,"p-3"],[1,"font-medium","line-clamp-1"],[1,"text-xs","text-wattpad-light","mt-1"],[1,"flex","items-center","mt-2","text-xs","text-wattpad-light"],[1,"flex","items-center","mr-2"],[1,"fas","fa-eye","mr-1"],[1,"flex","items-center"],[1,"fas","fa-star","text-yellow-400","mr-1"],[1,"w-full","h-40","object-cover","rounded","mb-3",3,"src"],["id","reading-lists-tab",1,"tab-content","mb-6"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","mb-6"],[1,"text-lg","lg:text-xl","font-bold"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white dark:bg-gray-800 rounded-xl pointer shadow-sm overflow-hidden",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","rounded-xl","pointer","shadow-sm","overflow-hidden",3,"click"],[1,"aspect-[3/1]","bg-gradient-to-r","from-purple-500","to-pink-500","flex","items-center","justify-center"],[1,"text-white","text-xl","font-bold","truncate","px-2"],[1,"absolute","top-2","right-2","w-8","h-8","rounded-full","bg-black/50","flex","items-center","justify-center","text-white","hover:bg-wattpad-primary","transition-colors"],[1,"fas","fa-ellipsis-h"],[1,"p-4"],[1,"flex","justify-between","items-center","mb-3"],[1,"font-medium","truncate"],[1,"text-xs","bg-gray-100","dark:bg-gray-700","px-2","py-1","rounded-full"],[1,"text-sm","text-wattpad-light","line-clamp-2"],["id","history-tab",1,"tab-content"],[1,"mt-2","lg:mt-0","px-4","py-2","rounded-full","font-medium","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","pointer",3,"click"],[1,"fas","fa-trash-alt","mr-2"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","overflow-hidden"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],["class","p-4 flex items-start space-x-4",4,"ngFor","ngForOf"],["class","p-4 flex justify-center",4,"ngIf"],[1,"p-4","flex","items-start","space-x-4"],[1,"flex-shrink-0","w-12","h-16","bg-gray-200","dark:bg-gray-700","rounded","overflow-hidden"],["alt","Story Cover","class","w-full h-full object-cover",3,"src",4,"ngIf"],[1,"flex-1"],[1,"flex","justify-between"],[1,"font-medium"],[1,"text-xs","text-wattpad-light"],[1,"mt-2"],[1,"flex","justify-between","text-xs","text-wattpad-light","mb-1"],["alt","Story Cover",1,"w-full","h-full","object-cover",3,"src"],[1,"p-4","flex","justify-center"],[1,"px-4","py-2","rounded-full","font-medium","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","pointer",3,"click"]],template:function(i,r){i&1&&(f(0,"app-header"),o(1,"main",0)(2,"div",1)(3,"div"),v(4,Qn,2,0,"h1",2)(5,Kn,2,0,"h1",2),a(),v(6,Zn,7,0,"div",3),a(),o(7,"div",4)(8,"div",5),v(9,to,2,1,"div",6),a()(),v(10,ro,6,1,"div",7)(11,ao,11,2,"div",8),a()),i&2&&(u(4),w("ngIf",r.searchText),u(),w("ngIf",!r.searchText),u(),w("ngIf",!r.searchText),u(3),w("ngIf",!r.isLoading&&r.stories.length>0),u(),w("ngIf",r.relatedStories.length),u(),w("ngIf",r.isLoggedIn&&r.userProgress.length>0))},dependencies:[H,se,q,K]})}}return t})();function lo(t,n){t&1&&(o(0,"p",9),l(1,"Your saved stories and reading lists"),a())}function po(t,n){if(t&1&&f(0,"img",27),t&2){let e=C().$implicit;w("src","https://hyperblah.com/funtelapi/"+e.story_image,fe)}}function co(t,n){if(t&1){let e=W();o(0,"div",12),k("click",function(){let r=$(e).$implicit,s=C(2);return U(s.goToSeries(r.id,r.story_title))}),o(1,"div",13)(2,"div",14),v(3,po,1,1,"img",15),a(),o(4,"div",16)(5,"div",17),f(6,"div",18),a()()(),o(7,"div",19)(8,"h3",20),l(9),a(),o(10,"p",21),l(11),a(),o(12,"div",22)(13,"span",23),f(14,"i",24),l(15),a(),o(16,"span",25),f(17,"i",26),l(18," 4.8 "),a()()()()}if(t&2){let e=n.$implicit,i=C(2);u(3),w("ngIf",e.story_image),u(6),M(e.story_title),u(2),Ae("By ",e.author_name," \u2022 ",i.formatDate(e.story_created_at),"."),u(4),z(" ",e.views||0," Reads ")}}function mo(t,n){if(t&1&&(o(0,"div",10),v(1,co,19,5,"div",11),a()),t&2){let e=C();u(),w("ngForOf",e.stories)}}function uo(t,n){if(t&1){let e=W();o(0,"div",33),k("click",function(){let r=$(e).$implicit,s=C(2);return U(s.goToSeries(r.id,r.story_title))}),o(1,"div",13)(2,"div",34)(3,"span",35),l(4),a()(),o(5,"button",36),f(6,"i",37),a()(),o(7,"div",38)(8,"div",39)(9,"h3",40),l(10),a(),o(11,"span",41),l(12),a()(),o(13,"p",42),l(14),a(),o(15,"p",21),l(16),a()()()}if(t&2){let e=n.$implicit;u(4),M(e.story_title),u(6),M(e.story_title),u(2),z(" ",e.views||0," views "),u(2),M(e.description),u(2),z("By ",e.author_name," ")}}function fo(t,n){if(t&1&&(o(0,"div",28)(1,"div",29)(2,"h2",30),l(3,"Related Lists"),a()(),o(4,"div",31),v(5,uo,17,5,"div",32),a()()),t&2){let e=C();u(5),w("ngForOf",e.relatedStories)}}function go(t,n){if(t&1&&f(0,"img",60),t&2){let e=C().$implicit;w("src",e.image,fe)}}function ho(t,n){if(t&1&&(o(0,"div",51)(1,"div",52),v(2,go,1,1,"img",53),a(),o(3,"div",54)(4,"div",55)(5,"div")(6,"h3",56),l(7),a(),o(8,"p",57),l(9),a()(),o(10,"span",57),l(11),a()(),o(12,"div",58)(13,"div",59)(14,"span"),l(15),a(),o(16,"span"),l(17),a()(),o(18,"div",17),f(19,"div",18),a()()()()),t&2){let e=n.$implicit;u(2),w("ngIf",e.image),u(5),M(e.title),u(2),z("By ",e.name,""),u(2),M(e.timestamp),u(4),M(e.title),u(2),z("",e.percent,"%")}}function xo(t,n){if(t&1){let e=W();o(0,"div",43)(1,"div",29)(2,"h2",30),l(3,"Your Reading History"),a(),o(4,"button",44),k("click",function(){$(e);let r=C();return U(r.clearHistory())}),f(5,"i",45),l(6," Clear History "),a()(),o(7,"div",46)(8,"div",47),v(9,ho,20,6,"div",48),a(),o(10,"div",49)(11,"button",50),l(12," Load More "),a()()()()}if(t&2){let e=C();u(9),w("ngForOf",e.userProgress)}}var _i=(()=>{class t{constructor(e,i,r){this.route=e,this.http=i,this.router=r,this.stories=[],this.categoryId=null,this.filteredSuggestions=[],this.isLoading=!0,this.errorMessage="",this.searchText="",this.relatedStories=[],this.userProgress=[],this.userId=null}ngOnInit(){this.userId=sessionStorage.getItem("userId"),this.route.paramMap.subscribe(e=>{this.categoryId=e.get("id"),this.route.snapshot.queryParamMap.get("q")?this.loadUserStoryProgress():this.categoryId?(this.fetchLibraryStories(this.categoryId),this.loadUserStoryProgress()):this.fetchUserLibrary()})}fetchUserLibrary(){if(!this.userId){this.errorMessage="User not logged in",this.isLoading=!1;return}this.isLoading=!0,this.http.get(`https://hyperblah.com/funtelapi/allstory.php?action=library&user_id=${this.userId}`).subscribe({next:e=>{e.status==="success"?(this.stories=e.data,this.relatedStories=this.getRandomRelatedStories(this.stories,3)):this.errorMessage=e.message||"No stories in your library.",this.isLoading=!1},error:e=>{this.errorMessage="Failed to load your library.",this.isLoading=!1,console.error(e)}})}onSearchSubmit(e){e.preventDefault();let i=this.searchText.trim();i&&(this.filteredSuggestions=[],this.router.navigate(["/search"],{queryParams:{q:i}}))}fetchLibraryStories(e){this.isLoading=!0,this.http.get(`https://hyperblah.com/funtelapi/allstory.php?category_id=${e}`).subscribe({next:i=>{i.status==="success"?(this.stories=i.data,this.relatedStories=this.getRandomRelatedStories(this.stories,3)):this.errorMessage=i.message||"No stories found.",this.isLoading=!1},error:()=>{this.errorMessage="Failed to load category stories.",this.isLoading=!1}})}formatDate(e){let i=new Date(e);return isNaN(i.getTime())?"":i.toDateString()}goToSeries(e,i){let r=this.slugify(i);this.router.navigate(["/story",`${e}-${r}`])}slugify(e){return e.toLowerCase().trim().replace(/[\s\W-]+/g,"-").replace(/^-+|-+$/g,"")}getRandomRelatedStories(e,i){return[...e].sort(()=>.5-Math.random()).slice(0,i)}resumeReading(e,i){let r=i.toLowerCase().replace(/\s+/g,"-");this.router.navigate(["/series",`${e}-${r}`])}loadUserStoryProgress(){let i=`story_progress_${sessionStorage.getItem("userId")}`,r=localStorage.getItem(i);if(r){let s=JSON.parse(r),d=Object.entries(s);this.userProgress=[];for(let[p,c]of Object.entries(s)){let m=Math.round(c.readParts.length/c.totalParts*100);this.http.get(`https://hyperblah.com/funtelapi/allstory.php?id=${p}`).subscribe({next:g=>{if(g.status==="success"&&g.data?.length){let h=g.data.find(x=>x.id==+p);this.userProgress.push({storyId:p,title:c.lastPartTitle,lastReadPartId:c.lastReadPartId,percent:m,part:c.readParts.length,total:c.totalParts,timestamp:c.timestamp,image:`https://hyperblah.com/funtelapi/${h.story_image}`,name:h.author_name}),console.log("userProgress",this.userProgress),this.userProgress.sort((x,b)=>b.timestamp-x.timestamp)}},error:g=>{console.error(`Failed to fetch story info for storyId ${p}`,g)}})}}}clearHistory(){let i=`story_progress_${sessionStorage.getItem("userId")}`;localStorage.removeItem(i)}static{this.\u0275fac=function(i){return new(i||t)(P(ie),P(X),P(Q))}}static{this.\u0275cmp=B({type:t,selectors:[["app-library"]],standalone:!0,features:[G],decls:12,vars:4,consts:[[1,"container","mx-auto","px-4","py-6","lg:px-6","lg:py-8"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","mb-6","lg:mb-8"],[1,"text-2xl","lg:text-3xl","font-bold"],["class","text-wattpad-light mt-1",4,"ngIf"],["id","saved-tab",1,"tab-content","active"],[1,"mb-6"],["class","grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 lg:gap-6",4,"ngIf"],["id","reading-lists-tab","class","tab-content mb-6",4,"ngIf"],["id","history-tab","class","tab-content",4,"ngIf"],[1,"text-wattpad-light","mt-1"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4","lg:gap-6"],["class","story-card bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden pointer",3,"click",4,"ngFor","ngForOf"],[1,"story-card","bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","overflow-hidden","pointer",3,"click"],[1,"relative"],[1,"story-cover","aspect-[4/4]","bg-gray-200","dark:bg-gray-700","overflow-hidden"],["class","w-full h-40 object-cover rounded mb-3",3,"src",4,"ngIf"],[1,"absolute","bottom-0","left-0","right-0","p-2","bg-gradient-to-t","from-black/70","to-transparent"],[1,"reading-progress","w-full"],[1,"reading-progress-bar",2,"width","65%"],[1,"p-3"],[1,"font-medium","line-clamp-1"],[1,"text-xs","text-wattpad-light","mt-1"],[1,"flex","items-center","mt-2","text-xs","text-wattpad-light"],[1,"flex","items-center","mr-2"],[1,"fas","fa-eye","mr-1"],[1,"flex","items-center"],[1,"fas","fa-star","text-yellow-400","mr-1"],[1,"w-full","h-40","object-cover","rounded","mb-3",3,"src"],["id","reading-lists-tab",1,"tab-content","mb-6"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","mb-6"],[1,"text-lg","lg:text-xl","font-bold"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden pointer",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","overflow-hidden","pointer",3,"click"],[1,"aspect-[3/1]","bg-gradient-to-r","from-purple-500","to-pink-500","flex","items-center","justify-center"],[1,"text-white","text-xl","font-bold","truncate","px-2"],[1,"absolute","top-2","right-2","w-8","h-8","rounded-full","bg-black/50","flex","items-center","justify-center","text-white","hover:bg-wattpad-primary","transition-colors"],[1,"fas","fa-ellipsis-h"],[1,"p-4"],[1,"flex","justify-between","items-center","mb-3"],[1,"font-medium","truncate"],[1,"text-xs","bg-gray-100","dark:bg-gray-700","px-2","py-1","rounded-full"],[1,"text-sm","text-wattpad-light","line-clamp-2"],["id","history-tab",1,"tab-content"],[1,"mt-2","lg:mt-0","px-4","py-2","rounded-full","font-medium","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","pointer",3,"click"],[1,"fas","fa-trash-alt","mr-2"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","overflow-hidden"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],["class","p-4 flex items-start space-x-4",4,"ngFor","ngForOf"],[1,"p-4","flex","justify-center"],[1,"px-4","py-2","rounded-full","font-medium","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"p-4","flex","items-start","space-x-4"],[1,"flex-shrink-0","w-12","h-16","bg-gray-200","dark:bg-gray-700","rounded","overflow-hidden"],["alt","Story Cover","class","w-full h-full object-cover",3,"src",4,"ngIf"],[1,"flex-1"],[1,"flex","justify-between"],[1,"font-medium"],[1,"text-xs","text-wattpad-light"],[1,"mt-2"],[1,"flex","justify-between","text-xs","text-wattpad-light","mb-1"],["alt","Story Cover",1,"w-full","h-full","object-cover",3,"src"]],template:function(i,r){i&1&&(f(0,"app-header"),o(1,"main",0)(2,"div",1)(3,"div")(4,"h1",2),l(5,"Library"),a(),v(6,lo,2,0,"p",3),a()(),o(7,"div",4)(8,"div",5),v(9,mo,2,1,"div",6),a()(),v(10,fo,6,1,"div",7)(11,xo,13,1,"div",8),a()),i&2&&(u(6),w("ngIf",!r.searchText),u(3),w("ngIf",!r.isLoading&&r.stories.length>0),u(),w("ngIf",r.relatedStories.length),u(),w("ngIf",r.userProgress.length>0))},dependencies:[K,H,se,q]})}}return t})();var bt=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-SHJFWND2.js").then(t=>t.HomeComponent)},{path:"login",component:Yt},{path:"genres",component:Wt},{path:"series/:idAndTitle",component:Xt},{path:"creat/:storyId",component:Qt},{path:"story-write/:idAndTitle",loadComponent:()=>import("./chunk-EMTXLNPS.js").then(t=>t.WritestoryComponent)},{path:"register",component:yi},{path:"test",component:gi},{path:"create-story",component:hi},{path:"new",component:xi},{path:"myworks",component:wi},{path:"episode/:idAndTitle",loadComponent:()=>import("./chunk-PRZ5UXRR.js").then(t=>t.EpisodeComponent)},{path:"story/:idAndTitle",component:bi},{path:"user-profile",component:Si},{path:"category/:id/:name",component:wt},{path:"search",component:wt},{path:"library",component:_i}],Ci=[Rt(bt)];Dt(Ht,{providers:[Ot(Lt([$t])),Nt(bt),Ci]}).catch(t=>console.error(t));
